!function(){function t(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw a}}}}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4LSw":function(t,n,o){"use strict";o.r(n),o.d(n,"QDSocialModule",(function(){return Be}));var r,c=o("tyNb"),s=o("n2fA"),l=o("fXoL"),p=o("aceb"),d=o("gvxT"),u=o("ofXK"),g=o("bTqV"),h=o("zVjI"),b=function(){return["/social/stream/network"]},f=function(){return["active-channel"]},m=function(){return["/social/profile"]},v=function(){return{exact:!0}},x=((r=function(){function t(e,n,o,r){i(this,t),this.router=e,this.ngZone=n,this.sidebarService=o,this.q=r,this.selectedStream="Network"}return a(t,[{key:"showAlgo",value:function(t){var e=this;this.q.os.bee.config.getSideBarFixed().left&&this.sidebarService.collapse("left"),this.selectedStream=t,this.ngZone.run((function(){return e.router.navigate(["/social/stream/"+t.toLowerCase()])}))}},{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)(l.Sb(c.c),l.Sb(l.C),l.Sb(p.D),l.Sb(d.a))},r.\u0275cmp=l.Mb({type:r,selectors:[["social-sidebar-left"]],decls:18,vars:10,consts:[[1,"algorithmsHeader"],[1,"treeNodeContainerSingle","Network",3,"routerLink","routerLinkActive"],["icon","activity"],[1,"checklist-leaf-node"],[1,"nodeContent"],[1,"newAlgoButton"],["icon","plus-outline",1,"newAlgoIcon"],[1,"treeNodeContainerSingle","Network",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],["icon","shake-outline"],[1,"nodeContent","station",2,"width","100%"]],template:function(t,e){1&t&&(l.Yb(0,"div",0),l.Ic(1,"\nAlgorithms:\n"),l.Xb(),l.Yb(2,"div",1),l.Tb(3,"nb-icon",2),l.Yb(4,"span",3),l.Yb(5,"span",4),l.Ic(6," Network "),l.Xb(),l.Xb(),l.Xb(),l.Yb(7,"button",5),l.Tb(8,"nb-icon",6),l.Ic(9," New Algorithm\n"),l.Xb(),l.Yb(10,"div",7),l.Tb(11,"nb-icon",8),l.Yb(12,"span",3),l.Yb(13,"span",9),l.Ic(14," My Station "),l.Xb(),l.Xb(),l.Xb(),l.Yb(15,"div",0),l.Ic(16,"\nFavorites:\n"),l.Xb(),l.Tb(17,"social-profile-favorites")),2&t&&(l.Fb(2),l.pc("routerLink",l.rc(5,b))("routerLinkActive",l.rc(6,f)),l.Fb(8),l.pc("routerLink",l.rc(7,m))("routerLinkActive",l.rc(8,f))("routerLinkActiveOptions",l.rc(9,v)))},directives:[c.d,c.e,p.o,h.a],styles:[".favoriteTab[_ngcontent-%COMP%]{overflow:hidden!important;overflow-y:auto!important}.algorithmsHeader[_ngcontent-%COMP%]{margin-top:20px;color:#4982e7;margin-bottom:10px;font-family:Ubuntu}.treeNodeContainerSingle[_ngcontent-%COMP%]{border-radius:5px;padding:6px 10px 6px 15px;margin:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:rgba(71,129,233,.9882352941176471)!important;font-size:16px;font-family:Ubuntu;cursor:pointer;background:#262246}.newAlgoButton[_ngcontent-%COMP%]{margin-top:10px;background:transparent;border:0;color:#256dff;font-family:Ubuntu;font-size:16px;padding:10px;margin-bottom:10px}.newAlgoIcon[_ngcontent-%COMP%]{position:relative;font-size:16px}.treeNodeContainerSingle[_ngcontent-%COMP%]:focus{outline:0;border:0}.algorithmsHeader[_ngcontent-%COMP%]:first-child{margin-top:22px}.nodeContent.station[_ngcontent-%COMP%]{position:relative;top:-2px}"]}),r);function C(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",4),l.fc("click",(function(){return l.xc(n),l.jc().lockSideBar("left",!1)})),l.Ic(1,"Lock Panel"),l.Xb()}}function P(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",4),l.fc("click",(function(){return l.xc(n),l.jc().lockSideBar("left",!0)})),l.Ic(1,"Float Panel"),l.Xb()}}function O(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",5),l.fc("click",(function(){return l.xc(n),l.jc().toggleSideBar("left")})),l.Tb(1,"nb-icon",6),l.Xb()}}var M,y=((M=function(){function t(e,n,o,r,a,c){i(this,t),this.ngZone=e,this.cd=n,this.sidebarService=o,this.q=r,this.activatedRoute=a,this.router=c,this.initRnd=0,this.postActive=!1,this.routeActive=!0,this.sideBarFixed={right:!0,left:!0},this.sideBarVisible={right:!1,left:!0},this.sideBarLockedClass="",this.sideBarLockedClassA="sideBarLocked",this.selectedProfile="NoProfileSelected",this.selectedPost="NoPostSelected"}return a(t,[{key:"ngOnDestroy",value:function(){this.sideBarFixedSub.unsubscribe(),this.sideBarVisibleSub.unsubscribe()}},{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==(e=this.q.os.social.profile.getSelected())&&(this.selectedProfile=e,this.postActive=!1),this.sideBarFixed=this.q.os.bee.config.getSideBarFixed(),this.sideBarVisible=this.q.os.bee.config.getSideBarVisible(),console.log("toggling:",this.sideBarVisible),this.sideBarVisible.left?this.sideBarVisible.left&&(this.sideBarFixed.left||(this.sideBarLockedClass=this.sideBarLockedClassA),this.sidebarService.expand("left")):(this.sideBarLockedClass="",this.sidebarService.collapse("left")),this.sideBarVisible.right||this.sidebarService.collapse("right"),this.sideBarVisible.right&&this.sidebarService.expand("right"),this.sideBarFixedSub=this.q.os.bee.config.sideBarFixedSub.subscribe((function(t){n.sideBarFixed=n.q.os.bee.config.getSideBarFixed()})),this.sideBarVisibleSub=this.q.os.bee.config.sideBarVisibleSub.subscribe((function(t){console.log("getting",t),n.sideBarVisible=n.q.os.bee.config.getSideBarVisible(),n.sideBarVisible.left?n.sideBarVisible.left&&n.sidebarService.expand("left"):n.sidebarService.collapse("left"),n.sideBarVisible.right||n.sidebarService.collapse("right"),n.sideBarVisible.right&&n.sidebarService.expand("right")})),setTimeout((function(){n.sideBarFixed=n.q.os.bee.config.getSideBarFixed(),n.sideBarVisible=n.q.os.bee.config.getSideBarVisible(),console.log("toggling:",n.sideBarVisible),n.sideBarVisible.left?n.sideBarVisible.left&&n.sidebarService.expand("left"):n.sidebarService.collapse("left"),n.sideBarVisible.right||n.sidebarService.collapse("right"),n.sideBarVisible.right&&n.sidebarService.expand("right")}),100),this.sidebarService.onCollapse().subscribe((function(){console.log("collapsed"),n.sideBarFixed.left?(n.sideBarVisible.left=!1,n.sideBarLockedClass=""):n.sideBarLockedClass=n.sideBarLockedClassA}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"lockSideBar",value:function(t,e){this.sideBarFixed[t]=e,this.q.os.bee.config.setSideBarFixed(this.sideBarFixed),this.sideBarLockedClass=e?"":this.sideBarLockedClassA,this.q.os.bee.config.commitNow()}},{key:"toggleSideBar",value:function(t){this.sideBarVisible=this.q.os.bee.config.getSideBarVisible(),this.sideBarVisible[t]?(this.sideBarVisible[t]=!1,this.sideBarLockedClass=""):(this.sideBarFixed.left||(this.sideBarLockedClass=this.sideBarLockedClassA),this.sideBarVisible[t]=!0),this.q.os.bee.config.setSideBarVisible(this.sideBarVisible),this.q.os.bee.config.commitNow()}},{key:"goToMyProfile",value:function(){var t=this;this.ngZone.run((function(){return t.router.navigate(["/social/profile"])})),this.sideBarFixed.left?(this.sideBarVisible.left=!1,this.sideBarLockedClass="",this.sidebarService.collapse("left")):this.sideBarLockedClass=this.sideBarLockedClassA}}]),t}()).\u0275fac=function(t){return new(t||M)(l.Sb(l.C),l.Sb(l.h),l.Sb(p.D),l.Sb(d.a),l.Sb(c.a),l.Sb(c.c))},M.\u0275cmp=l.Mb({type:M,selectors:[["quest-messenger-root"]],decls:10,vars:8,consts:[["state","expanded","left","","tag","left","collapsed","true",1,"leftSideBar","mat-elevation-z6",3,"fixed"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thinOutlineButton floatButton",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thinOutlineButton",3,"click"],["class","toggleSideBarRight toggleSideBarLeft","class","toggleSideBarLeft",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thinOutlineButton","floatButton",3,"click"],[1,"toggleSideBarLeft",3,"click"],["icon","list-outline"]],template:function(t,e){1&t&&(l.Yb(0,"nb-layout"),l.Yb(1,"nb-sidebar",0),l.Gc(2,C,2,0,"button",1),l.Gc(3,P,2,0,"button",1),l.Yb(4,"button",2),l.fc("click",(function(){return e.toggleSideBar("left")})),l.Ic(5,"Hide Panel"),l.Xb(),l.Tb(6,"social-sidebar-left"),l.Xb(),l.Yb(7,"nb-layout-column"),l.Gc(8,O,2,0,"div",3),l.Tb(9,"router-outlet"),l.Xb(),l.Xb()),2&t&&(l.Fb(1),l.pc("fixed",e.sideBarFixed.left),l.Fb(1),l.pc("ngIf",e.sideBarFixed.left),l.Fb(1),l.pc("ngIf",!e.sideBarFixed.left),l.Fb(4),l.Jb("routerOutletWrapper streamsBrowseColumn  ",e.sideBarLockedClass,"",e.sideBarVisible.left,""),l.Fb(1),l.pc("ngIf",!e.sideBarVisible.left))},directives:[p.u,p.B,u.m,g.a,x,p.t,c.h,p.o],styles:[".floatButton[_ngcontent-%COMP%]{left:131px;position:absolute}.toggleSideBarLeft[_ngcontent-%COMP%]{left:15px;position:absolute;top:32px;color:#d3c4c4;cursor:pointer;z-index:5}.centerButtonWrapper[_ngcontent-%COMP%]{position:fixed;bottom:3vh;left:0;right:0}.centerButtonContainer[_ngcontent-%COMP%]{margin:auto}.statusBarWrapper[_ngcontent-%COMP%]{position:fixed;bottom:0;max-height:28px;height:28px;left:0;right:0;background-color:#2d2a2a;z-index:20;font-size:14px;color:grey;padding-left:10px;padding-right:10px;border-top:1px solid #000}.statusBarRouterIcon[_ngcontent-%COMP%]{top:4px;margin:0;position:relative;line-height:10px;font-size:21px}.statusBarRadioIcon[_ngcontent-%COMP%]{top:-5px;margin:0 0 0 5px;position:relative;line-height:9px;font-size:17px}.web-top-links[_ngcontent-%COMP%]{position:fixed;right:13px;cursor:pointer;z-index:20;top:14px}@media only screen and (max-width:500px){.web-top-links[_ngcontent-%COMP%]{display:none}}nb-layout-column.profileLayoutColumn[_ngcontent-%COMP%]{background:linear-gradient(-10deg,#1d1a38,#3a0e0e);overflow:hidden;overflow-y:auto;position:absolute;top:0;bottom:28px;left:0;right:0}nb-layout-column[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}nb-layout-column[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:rgba(78,132,229,.5607843137254902)}nb-layout-column[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(78,132,229,.5607843137254902);outline:0}.toggleStreams[_ngcontent-%COMP%]{left:52px;background:#eed864;border-radius:4px;top:22px}.toggleStreams[_ngcontent-%COMP%], .toggleStreamsActive[_ngcontent-%COMP%]{position:absolute;font-size:15px;font-weight:700;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer}.toggleStreamsActive[_ngcontent-%COMP%]{left:22px;border-radius:4px;top:72px;border:1px solid #276ffd}.toggleStreamsActive[_ngcontent-%COMP%]:hover{background:rgba(37,109,254,.0784313725490196)}.toggleStreams[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}nb-layout[_ngcontent-%COMP%]{overflow:hidden;position:fixed}nb-layout-column[_ngcontent-%COMP%]{overflow-y:auto}.streamsBrowseColumn[_ngcontent-%COMP%]{background:#22283a}social-timeline-post-combined-timeline[_ngcontent-%COMP%]{padding-top:60px}"]}),M),k=o("2Vo4"),_=o("FQBZ"),w=o("ZREu"),F=o("jhN1"),S=o("3Pt+"),j=o("IyRd"),B=o("qFsG"),I=o("zwFz"),R=o("d3J+"),z=o("fP41");function T(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",8),l.fc("click",(function(){l.xc(n);var t=l.jc();return t.postDelete(t.postObj)})),l.Tb(1,"nb-icon",9),l.Xb()}}function q(t,e){1&t&&(l.Yb(0,"div",10),l.Tb(1,"img",11),l.Xb())}function N(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",12),l.fc("click",(function(){l.xc(n);var t=l.jc();return t.selectProfile(t.profile.key.pubKey)})),l.Ic(1),l.Xb()}if(2&t){var o=l.jc();l.Fb(1),l.Kc(" ",o.profile.alias," ")}}function Y(t,e){if(1&t&&(l.Yb(0,"div",13),l.Ic(1),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.Kc(" ",n.postObj.dTimestamp,"\n")}}function X(t,e){if(1&t&&(l.Yb(0,"div",13),l.Ic(1),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.Kc(" ",n.postObj.timestamp,"\n")}}var A=function(){return{newWindow:!0}};function L(t,e){if(1&t&&(l.Tb(0,"div",27),l.kc(1,"linky")),2&t){var n=l.jc().$implicit;l.pc("innerHTML",l.mc(1,1,n.text,l.rc(4,A)),l.yc)}}function D(t,e){if(1&t&&l.Tb(0,"ngx-emoji",28),2&t){var n=l.jc().$implicit;l.pc("emoji",n.emojiColon)}}function E(t,e){if(1&t&&(l.Yb(0,"div",24),l.Gc(1,L,2,5,"div",25),l.Gc(2,D,1,1,"ngx-emoji",26),l.Xb()),2&t){var n=e.$implicit;l.Fb(1),l.pc("ngIf",!n.isEmoji),l.Fb(1),l.pc("ngIf",n.isEmoji)}}function K(t,e){if(1&t&&(l.Yb(0,"div"),l.Gc(1,E,3,2,"div",23),l.Xb()),2&t){var n=e.$implicit;l.Fb(1),l.pc("ngForOf",n)}}function V(t,e){if(1&t&&(l.Yb(0,"div",21),l.Gc(1,K,2,1,"div",22),l.Xb()),2&t){var n=l.jc(2);l.Fb(1),l.pc("ngForOf",n.postRows)}}function G(t,e){if(1&t&&(l.Yb(0,"div"),l.Tb(1,"ngx-emoji",29),l.Xb()),2&t){var n=l.jc(2);l.Fb(1),l.qc("emoji",n.postRows[0][0].emojiColon)}}function H(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",30),l.fc("click",(function(){l.xc(n);var t=l.jc(2);return t.selectPost(t.postObj.qHash)})),l.Ic(1),l.Xb()}if(2&t){var o=l.jc(2);l.Fb(1),l.Jc(o.replyCount)}}function W(t,e){if(1&t){var n=l.Zb();l.Yb(0,"emoji-mart",37),l.fc("emojiClick",(function(t){l.xc(n);var e=l.jc(3);return e.addEmoji(t,e.postObj.qHash)})),l.Xb()}}function Z(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",31),l.Yb(1,"textarea",32),l.fc("ngModelChange",(function(t){l.xc(n);var e=l.jc(2);return e.reply[e.postObj.qHash]=t})),l.Xb(),l.Tb(2,"ngx-emoji",33),l.Gc(3,W,1,0,"ng-template",null,34,l.Hc),l.Yb(5,"button",35),l.fc("click",(function(){l.xc(n);var t=l.jc(2);return t.post(t.postObj.qHash)})),l.Ic(6,"Reply"),l.Xb(),l.Yb(7,"button",36),l.fc("click",(function(){return l.xc(n),l.jc(2).cancel()})),l.Ic(8,"Cancel"),l.Xb(),l.Xb()}if(2&t){var o=l.vc(4),i=l.jc(2);l.Fb(1),l.pc("ngModel",i.reply[i.postObj.qHash]),l.Fb(1),l.pc("nbPopover",o)}}function U(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",14),l.Gc(1,V,2,1,"div",15),l.Gc(2,G,2,1,"div",16),l.Yb(3,"button",17),l.fc("click",(function(){l.xc(n);var t=l.jc();return t.reply(t.postObj.qHash)})),l.Tb(4,"nb-icon",18),l.Xb(),l.Gc(5,H,2,1,"button",19),l.Gc(6,Z,9,2,"div",20),l.Xb()}if(2&t){var o=l.jc();l.Fb(1),l.pc("ngIf",o.postRows.length>0&&1!=o.postRows.length||1!=o.postRows[0].length||o.postRows.length>1||!o.postRows[0][0].isEmoji),l.Fb(1),l.pc("ngIf",1==o.postRows.length&&1==o.postRows[0].length&&o.postRows[0][0].isEmoji),l.Fb(3),l.pc("ngIf",o.replyCount>0),l.Fb(1),l.pc("ngIf",o.selectedNode==o.postObj.qHash)}}function $(t,e){1&t&&(l.Yb(0,"div",38),l.Ic(1,"\n[Post Deleted]\n"),l.Xb())}var Q,J=((Q=function(){function t(e,n,o,r,a,c){i(this,t),this.ngZone=e,this.router=n,this._sanitizer=o,this.dialog=r,this.cd=a,this.q=c,this.postObj={id:"123",timestamp:0,content:"Demo",dTimestamp:""},this.isMyProfile=!1,this.profile={},this.dev=!1,this.selectedNode="",this.replyCount=0,this.imeline=[]}return a(t,[{key:"reply",value:function(t){this.selectedNode=t,this.cd.detectChanges()}},{key:"cancel",value:function(){this.selectedNode=""}},{key:"selectPost",value:function(t){var e=this;this.ngZone.run((function(){return e.router.navigate(["/social/timeline/post/"+t])}))}},{key:"selectProfile",value:function(t){var e=this;this.ngZone.run((function(){return e.router.navigate(["/social/profile/"+t])}))}},{key:"addEmoji",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";void 0===this.reply[e]?this.reply[e]=t.emoji.colons+" ":this.reply[e]+=" "+t.emoji.colons+" ",this.cd.detectChanges()}},{key:"post",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.q.os.ui.showSnack("Syncing Timeline...","Please Wait"),e.next=3,this.q.os.social.profile.getMyProfile();case 3:if(void 0!==(n=e.sent).alias){e.next=6;break}throw alert("Please set your Alias first!"),"no name set";case 6:return o={content:this.reply[t],socialPubKey:n.key.pubKey,replyTo:t},e.next=9,this.q.os.social.timeline.post.new(o);case 9:this.selectedNode="",this.reply[t]="",this.cd.detectChanges(),setTimeout((function(){i.q.os.social.timeline.agent.reload(),i.cd.detectChanges()}),2e3);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.postObj.content){t.next=14;break}return this.postRows=this.getArray(this.postObj.content),this.postObj.dTimestamp=new Date(this.postObj.timestamp).toString(),this.replyCount=this.q.os.social.timeline.agent.getReplyCount(this.postObj.qHash),t.prev=2,t.next=5,this.q.os.social.profile.get(this.postObj.socialPubKey);case 5:this.profile=t.sent,void 0===this.profile.alias&&(this.profile.alias="Anonymous"),void 0===this.profile.timestamp&&(this.profile.timestamp=0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),this.profile={alias:"Anonymous",timestamp:0};case 13:this.cd.detectChanges();case 14:case"end":return t.stop()}}),t,this,[[2,10]])})))}},{key:"ngOnChanges",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==this.postObj.content,!t.t0){t.next=8;break}return this.postRows=this.getArray(this.postObj.content),this.postObj.dTimestamp=new Date(this.postObj.timestamp).toString(),t.next=6,this.q.os.social.profile.get(this.postObj.socialPubKey);case 6:this.profile=t.sent,this.cd.detectChanges();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"postDelete",value:function(t){console.log("qD Social/Profile: Deleting...",t),this.q.os.social.timeline.post.delete(t.qHash,t.socialPubKey),this.postObj.timestamp=0,this.postObj.dTimestamp=""}},{key:"getArray",value:function(t){var n=[],o=[],i=String(t).trim();try{for(var r=0,a=["\n:","\n :","\n  :"];r<a.length;r++){var c=a[r];i=i.replace(new RegExp(c,"g")," :")}}catch(P){}try{for(var s=0,l=[":D",":\\)","=\\)",":-\\)","=D"];s<l.length;s++){var p=l[s];i=i.replace(new RegExp(p,"g"),":grinning:")}var d,u=e(/:(?![\n])[()#$@-\w]+:/g.exec(i));try{for(u.s();!(d=u.n()).done;){var g=d.value;g.substr(1,g.length-2).indexOf(":")<0&&(i=i.replace(g," "+g+" "))}}catch(O){u.e(O)}finally{u.f()}}catch(P){this.dev&&console.log(P)}o=[];var h,b=e(i.trim().split("\n"));try{for(b.s();!(h=b.n()).done;){var f=h.value;o.push(f.trim().split(" "))}}catch(O){b.e(O)}finally{b.f()}for(var m=0;m<o.length;m++)for(var v=0;v<o[m].length;v++){var x=String(o[m][v]).trim();if(0==x.indexOf(":")&&x.substr(1).indexOf(":")==x.length-2){var C={isEmoji:!0,emojiColon:x.substr(1,x.length-2)};if(1==n.length)return C;o[m][v]=C}else o[m][v]={isEmoji:!1,text:x}}return o}}]),t}()).\u0275fac=function(t){return new(t||Q)(l.Sb(l.C),l.Sb(c.c),l.Sb(F.b),l.Sb(p.l),l.Sb(l.h),l.Sb(d.a))},Q.\u0275cmp=l.Mb({type:Q,selectors:[["app-social-profile-post"]],inputs:{postObj:"postObj",isMyProfile:"isMyProfile"},features:[l.Db],decls:9,vars:7,consts:[["class","postDelete",3,"click",4,"ngIf"],["class","pp",4,"ngIf"],["class","postAlias",3,"click",4,"ngIf"],["class","postTime",4,"ngIf"],["class","postContent",4,"ngIf"],["class","postContent","style","margin-top:0px",4,"ngIf"],[1,"lockClosed"],["icon","shield-outline"],[1,"postDelete",3,"click"],["icon","trash-2-outline"],[1,"pp"],["src","./assets/defaultAvatar.png",1,"mat-elevation-z14"],[1,"postAlias",3,"click"],[1,"postTime"],[1,"postContent"],["class","text",4,"ngIf"],[4,"ngIf"],["nbButton","",1,"replyButton",3,"click"],["icon","message-square-outline",2,"font-size","26px"],["nbButton","","class","replyCount",3,"click",4,"ngIf"],["class","newPostContainer mat-elevation-z8",4,"ngIf"],[1,"text"],["style","",4,"ngFor","ngForOf"],["class","chunkContainer",4,"ngFor","ngForOf"],[1,"chunkContainer"],["class","textChunk",3,"innerHTML",4,"ngIf"],["class","emojiChunk","set","apple","size","24","style","display:inline-block;max-height: 24px;overflow: hidden;",3,"emoji",4,"ngIf"],[1,"textChunk",3,"innerHTML"],["set","apple","size","24",1,"emojiChunk",2,"display","inline-block","max-height","24px","overflow","hidden",3,"emoji"],["set","apple","size","64",1,"",3,"emoji"],["nbButton","",1,"replyCount",3,"click"],[1,"newPostContainer","mat-elevation-z8"],["matInput","","name","newPost","placeholder","Choose your words wisely",3,"ngModel","ngModelChange"],["emoji","grinning","set","apple","size","24",1,"emojiPickerTrigger",3,"nbPopover"],["emojiPickerRef",""],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","postButton",3,"click"],["mat-stroked-button","","color","warning",1,"defaultSettingsButton","postButton","replyCancelButton",2,"float","left",3,"click"],["title","Pick your emoji\u2026","emoji","blush","darkMode","true",1,"emojiPicker",3,"emojiClick"],[1,"postContent",2,"margin-top","0px"]],template:function(t,e){1&t&&(l.Gc(0,T,2,0,"div",0),l.Gc(1,q,2,0,"div",1),l.Gc(2,N,2,1,"div",2),l.Gc(3,Y,2,1,"div",3),l.Gc(4,X,2,1,"div",3),l.Gc(5,U,7,4,"div",4),l.Gc(6,$,2,0,"div",5),l.Yb(7,"div",6),l.Tb(8,"nb-icon",7),l.Xb()),2&t&&(l.pc("ngIf",e.isMyProfile&&e.postObj.timestamp>0),l.Fb(1),l.pc("ngIf",e.postObj.timestamp>0),l.Fb(1),l.pc("ngIf",null!=e.profile.alias&&e.profile.alias.length>0&&e.postObj.timestamp>0),l.Fb(1),l.pc("ngIf",null!=e.postObj.dTimestamp&&e.postObj.dTimestamp.length>0),l.Fb(1),l.pc("ngIf",null!=e.postObj.dTimestamp&&e.postObj.dTimestamp.length<0),l.Fb(1),l.pc("ngIf",e.postObj.timestamp>0),l.Fb(1),l.pc("ngIf",0==e.postObj.timestamp))},directives:[u.m,p.o,u.l,I.a,B.a,S.b,S.j,S.m,p.z,g.a,R.a],pipes:[z.b],styles:[".browse-files-button[_ngcontent-%COMP%]{border-radius:3px;padding:5px;color:purple}.importButton[_ngcontent-%COMP%]{color:purple!important}.captchaScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%]{background-color:#222b45;padding:20px;text-align:center}.captchaScreen[_ngcontent-%COMP%], .captchaScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .chatScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.poster[_ngcontent-%COMP%]{height:30vh;background-color:#111161}.verifyButton[_ngcontent-%COMP%]{margin-right:70px!important}.pp[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;z-index:1;float:left;margin-right:10px}.pp[_ngcontent-%COMP%], .pp[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:60px}.name[_ngcontent-%COMP%]{white-space:nowrap}.alias[_ngcontent-%COMP%]{font-size:24px}.alias[_ngcontent-%COMP%], .fullname[_ngcontent-%COMP%]{white-space:nowrap;float:left}.fullname[_ngcontent-%COMP%]{margin-left:20px;opacity:.5}.about[_ngcontent-%COMP%]{clear:both;padding-top:30px;padding-right:20px}.details[_ngcontent-%COMP%]{overflow:hidden;background:#2d2b2b;color:#fff;padding-left:20px;font-size:20px;position:relative;top:-60px;padding-top:60px;z-index:0;padding-bottom:50px}.editButton[_ngcontent-%COMP%]{right:23px}.editButton[_ngcontent-%COMP%], .saveButton[_ngcontent-%COMP%]{position:absolute;font-size:20px;z-index:1;top:48px}.saveButton[_ngcontent-%COMP%]{right:143px}.discardButton[_ngcontent-%COMP%]{position:absolute;right:23px;font-size:20px;z-index:1;top:48px}.fundUs[_ngcontent-%COMP%]{text-align:center}.fundButton[_ngcontent-%COMP%]{background:#bfbf13!important;font-size:16px!important}.profilePrivacy[_ngcontent-%COMP%]{position:absolute;top:70px;font-size:19px;right:22px;background:#eed864;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer}.profilePrivacy[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}@media only screen and (max-width:600px){.fullname[_ngcontent-%COMP%]{clear:both;margin-left:0}.editButton[_ngcontent-%COMP%]{top:52px}}input[_ngcontent-%COMP%]{caret-color:#fff}.pubKeyDisplay[_ngcontent-%COMP%]{position:absolute;left:99px;top:30vh;margin-top:55px;right:8px;line-height:7px;font-size:7px;font-family:MONOSPACE;word-break:break-all;overflow:hidden;color:rgba(211,166,65,.25098039215686274)!important;z-index:9999;top:-45px;cursor:pointer}@media only screen and (max-width:807px){.pubKeyDisplay[_ngcontent-%COMP%]{margin-top:0;position:fixed;left:10px;top:17.5vh;right:10px;line-height:10px;font-size:10px;font-family:MONOSPACE;word-break:break-all;overflow:hidden}}.senderIcon[_ngcontent-%COMP%]{top:-2px;position:relative;color:#d2d24b}.socialLink[_ngcontent-%COMP%]{cursor:pointer}.messageDisplayName[_ngcontent-%COMP%]{color:#d6d8dc!important;padding-bottom:5px!important}.messageSenderStarIcon[_ngcontent-%COMP%]{color:#256dff!important}.emojiChunk[_ngcontent-%COMP%]{max-height:22px;overflow:hidden;margin:0;position:relative;top:5px;padding:0 2px}.chunkContainer[_ngcontent-%COMP%], .emojiChunk[_ngcontent-%COMP%], .messagesInnerWrapper[_ngcontent-%COMP%], .textChunk[_ngcontent-%COMP%]{display:inline-block}.textChunk[_ngcontent-%COMP%]{white-space:nowrap;padding-left:2px;padding-right:2px;max-height:22px}.starButton[_ngcontent-%COMP%]{color:rgba(42,68,120,.5098039215686274);border:0 solid transparent!important}.starButton[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}.starButton[_ngcontent-%COMP%]:hover{color:rgba(37,109,255,.5607843137254902)}.starButton.active[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.starButton.active[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.starButton.pending[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.pp[_ngcontent-%COMP%]{z-index:12}.details[_ngcontent-%COMP%]{z-index:11}.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);margin-left:5vw;border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;width:90vw;text-align:right;margin-bottom:5vh;border:1px solid rgba(255,0,0,.25882352941176473)}.postContainer[_ngcontent-%COMP%]{text-align:left;border:1px solid rgba(45,99,236,.6509803921568628)}.postButton[_ngcontent-%COMP%]{color:rgba(198,196,137,.7803921568627451);font-family:Ubuntu;font-size:16px;margin-top:4vh;border:2px solid rgba(157,175,170,.7490196078431373)}.postDelete[_ngcontent-%COMP%]{float:right;color:rgba(255,0,0,.8117647058823529);margin-left:10px;font-size:20px;top:-1px;cursor:pointer}.postTime[_ngcontent-%COMP%]{color:rgba(199,40,249,.3803921568627451);font-size:14px;margin-bottom:10px;width:320px}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ff0045}.mat-input-element[_ngcontent-%COMP%]{caret-color:#546184;text-align:left;border:1px solid transparent;border-radius:5px;padding:10px}.mat-input-element[_ngcontent-%COMP%]:focus{border:1px solid red}.mat-input-element[_ngcontent-%COMP%]::-moz-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]::placeholder:focus{display:none}.details[_ngcontent-%COMP%]{color:#6d95ce}.postAlias[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;font-weight:900!important;color:rgba(166,6,6,.7803921568627451);letter-spacing:-.1rem;font-family:Helvetica}.postContent[_ngcontent-%COMP%]{width:100%;margin-top:40px}.replyButton[_ngcontent-%COMP%]{position:relative;top:22px;left:-10px;padding:10px;background:transparent;border:0;color:red}.newPostContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;text-align:right;width:auto;margin:-4px 0 0 9px;border:1px solid rgba(255,0,0,.25882352941176473)}.emojiPickerTrigger[_ngcontent-%COMP%]{opacity:1;z-index:9;padding:8px;margin-right:10px;cursor:pointer;right:0;position:relative;top:3px}.emojiPicker[_ngcontent-%COMP%]{z-index:222222!important;position:relative;right:70px;background:transparent}.replyCancelButton[_ngcontent-%COMP%]{color:red!important;float:left;color:red;border:2px solid red;opacity:.5}.replyCancelButton[_ngcontent-%COMP%]:hover{opacity:1}.replyCount[_ngcontent-%COMP%]{background-color:rgba(113,125,211,.2);border:0;top:17px;font-size:16px;color:#4982e8;border-radius:30px;padding:6px;line-height:16px}.lockClosed[_ngcontent-%COMP%], .replyCount[_ngcontent-%COMP%]{position:relative}.lockClosed[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{position:absolute;right:-5px;top:-11px;color:rgba(45,100,237,.10980392156862745);font-size:28px}"],changeDetection:0}),Q);function tt(t,e){if(1&t&&(l.Yb(0,"div",4),l.Tb(1,"app-social-profile-post",5),l.Xb()),2&t){var n=l.jc().$implicit,o=l.jc();l.Fb(1),l.pc("postObj",n)("isMyProfile",o.isMyProfile)}}function et(t,e){if(1&t&&(l.Yb(0,"div",2),l.Gc(1,tt,2,2,"div",3),l.Xb()),2&t){var n=e.$implicit;l.Fb(1),l.pc("ngIf",null!=n.content)}}function nt(t,e){if(1&t&&(l.Yb(0,"div",8),l.Tb(1,"app-social-profile-post",9),l.Xb()),2&t){var n=l.jc(),o=n.index,i=n.$implicit,r=l.jc();l.Fb(1),l.Ib("postContainer mat-elevation-z8 post level-",o,""),l.pc("postObj",i)("isMyProfile",r.isMyProfile)}}function ot(t,e){if(1&t&&(l.Yb(0,"div",8),l.Tb(1,"app-social-profile-post",10),l.Xb()),2&t){var n=l.jc().$implicit,o=l.jc();l.Fb(1),l.pc("postObj",n)("isMyProfile",o.isMyProfile)}}function it(t,e){if(1&t&&(l.Yb(0,"div",8),l.Tb(1,"app-social-profile-post",11),l.Xb()),2&t){var n=l.jc().$implicit,o=l.jc();l.Fb(1),l.pc("postObj",n)("isMyProfile",o.isMyProfile)}}function rt(t,e){if(1&t&&(l.Yb(0,"div",6),l.Gc(1,nt,2,5,"div",7),l.Gc(2,ot,2,2,"div",7),l.Gc(3,it,2,2,"div",7),l.Xb()),2&t){var n=e.$implicit,o=l.jc();l.Fb(1),l.pc("ngIf",o.combinedTimeline.length>1),l.Fb(1),l.pc("ngIf",1==o.combinedTimeline.length&&null==n.replyTo),l.Fb(1),l.pc("ngIf",1==o.combinedTimeline.length&&null!=n.replyTo)}}var at,ct=((at=function(){function t(e,n,o,r){i(this,t),this._sanitizer=e,this.dialog=n,this.cd=o,this.q=r,this.pubKey="NoProfileSelected",this.postList=[],this.combinedTimeline=[],this.DEVMODE=w.dev,this.replyTree=[],this.isMyProfile=!1}return a(t,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==this.combinedTimeline[0].replyTo,!t.t0){t.next=6;break}return t.next=4,this.q.os.social.timeline.agent.resolveReplyTreeRec(this.combinedTimeline[0]);case 4:this.replyTree=t.sent,console.log(this.replyTree);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnChanges",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}]),t}()).\u0275fac=function(t){return new(t||at)(l.Sb(F.b),l.Sb(p.l),l.Sb(l.h),l.Sb(d.a))},at.\u0275cmp=l.Mb({type:at,selectors:[["social-timeline-post-combined-timeline"]],inputs:{combinedTimeline:"combinedTimeline",isMyProfile:"isMyProfile"},features:[l.Db],decls:2,vars:2,consts:[["class","replyLoop",4,"ngFor","ngForOf"],["class","postOuterWrapper",4,"ngFor","ngForOf"],[1,"replyLoop"],["class","replyWrapper",4,"ngIf"],[1,"replyWrapper"],[1,"postContainer","mat-elevation-z8","reply",3,"postObj","isMyProfile"],[1,"postOuterWrapper"],["class","postWrapper",4,"ngIf"],[1,"postWrapper"],[3,"postObj","isMyProfile"],[1,"postContainer","mat-elevation-z8","post","singleLevel",3,"postObj","isMyProfile"],[1,"postContainer","mat-elevation-z8","post","singleLevel","replyPost",3,"postObj","isMyProfile"]],template:function(t,e){1&t&&(l.Gc(0,et,2,1,"div",0),l.Gc(1,rt,4,3,"div",1)),2&t&&(l.pc("ngForOf",e.replyTree),l.Fb(1),l.pc("ngForOf",e.combinedTimeline))},directives:[u.l,u.m,J],styles:[".browse-files-button[_ngcontent-%COMP%]{border-radius:3px;padding:5px;color:purple}.importButton[_ngcontent-%COMP%]{color:purple!important}.captchaScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%]{background-color:#222b45;padding:20px;text-align:center}.captchaScreen[_ngcontent-%COMP%], .captchaScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .chatScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.poster[_ngcontent-%COMP%]{height:30vh;background-color:#111161}.verifyButton[_ngcontent-%COMP%]{margin-right:70px!important}.pp[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;position:relative;left:30px;top:-30px;z-index:1}.pp[_ngcontent-%COMP%], .pp[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:60px}.name[_ngcontent-%COMP%]{white-space:nowrap}.alias[_ngcontent-%COMP%]{font-size:24px}.alias[_ngcontent-%COMP%], .fullname[_ngcontent-%COMP%]{white-space:nowrap;float:left}.fullname[_ngcontent-%COMP%]{margin-left:20px;opacity:.5}.about[_ngcontent-%COMP%]{clear:both;padding-top:30px;padding-right:20px}.details[_ngcontent-%COMP%]{overflow:hidden;background:#2d2b2b;color:#fff;padding-left:20px;font-size:20px;padding-top:60px;z-index:0;padding-bottom:50px;margin-top:-60px;margin-bottom:42px;color:#6d95ce;z-index:11;background:#151b2e;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471))}.editButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:20px;margin-top:-15px}.discardButton[_ngcontent-%COMP%], .saveButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:23px}.fundButton[_ngcontent-%COMP%]{background:#bfbf13!important;font-size:16px!important}.profilePrivacy[_ngcontent-%COMP%]{position:absolute;font-size:19px;right:22px;background:#eed864;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:20px}.profilePrivacy[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}@media only screen and (max-width:600px){.fullname[_ngcontent-%COMP%]{clear:both;margin-left:0}}input[_ngcontent-%COMP%]{caret-color:#fff}.pubKeyDisplay[_ngcontent-%COMP%]{left:99px;right:8px;line-height:7px;font-size:7px;font-family:MONOSPACE;word-break:break-all;overflow:hidden;color:rgba(211,166,65,.25098039215686274)!important;z-index:9999;top:-45px;cursor:pointer;margin-top:-53px;margin-bottom:23px;margin-left:78px}@media only screen and (max-width:807px){.pubKeyDisplay[_ngcontent-%COMP%]{max-height:20px;text-overflow:ellipsis;line-height:10px;font-size:10px;font-family:MONOSPACE;word-break:break-all;overflow:hidden}.editButton[_ngcontent-%COMP%]{margin-top:-9px}}.starButton[_ngcontent-%COMP%]{color:rgba(42,68,120,.5098039215686274);border:0 solid transparent!important}.starButton[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}.starButton[_ngcontent-%COMP%]:hover{color:rgba(37,109,255,.5607843137254902)}.starButton.active[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.starButton.active[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.starButton.pending[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.search[_ngcontent-%COMP%]{z-index:2;right:0;left:0;padding:20px;height:95px;bottom:28px;position:absolute;top:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Ubuntu;position:absolute;letter-spacing:1px;color:rgba(241,237,205,.8196078431372549);padding:10px 10px 10px 26px;font-size:16px;left:5%;width:90%;font-weight:500!important}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid red}.search[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:rgba(41,104,245,.8313725490196079)}.pp[_ngcontent-%COMP%]{z-index:12}.fundUs[_ngcontent-%COMP%]{z-index:2;width:100%;margin-bottom:120px;text-align:center;margin-top:38px}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;height:40px;width:40px;border:0;color:#7b9cc3;padding-right:8px;width:50px;position:absolute;top:19px;right:5%}.search[_ngcontent-%COMP%]   .searchButton[_ngcontent-%COMP%]:focus, .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%]:focus{outline:none!important;border:0!important;box-shadow:none!important}.results[_ngcontent-%COMP%]{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.59));font-family:Ubuntu;overflow:hidden;overflow-y:auto;position:absolute;left:0;right:0;bottom:27px;top:0}.resultCardWrapper[_ngcontent-%COMP%]{padding:20px 4% 20px 5%}.resultCardWrapper[_ngcontent-%COMP%]:first-child{padding-top:60px;padding-bottom:20px}.resultCardWrapper[_ngcontent-%COMP%]:last-child{padding-bottom:120px}.searchResultAlias[_ngcontent-%COMP%]{font-size:18px}.searchResultPp[_ngcontent-%COMP%], .searchResultPpImg[_ngcontent-%COMP%]{height:100px}.searchResultColumn[_ngcontent-%COMP%]{color:#4f84e2;padding:10px 10px 10px 20px}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:none;color:#4f84e2;margin-top:7px}.searchResultAboutWrapper[_ngcontent-%COMP%]{width:100%}.resultCard[_ngcontent-%COMP%]{border-radius:5px;flex-direction:row;box-sizing:border-box;display:flex;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));background:linear-gradient(90deg,#192752,rgba(16,22,41,.5882352941176471));overflow:hidden;cursor:pointer;border:1px solid transparent}.resultCard[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));overflow:hidden;border:1px solid red}.searchResultFullName[_ngcontent-%COMP%]{color:rgba(79,132,226,.5411764705882353)}@media only screen and (max-width:816px){.searchResultColumn[_ngcontent-%COMP%]{padding-left:10px}.searchResultConnection.searchResultColumn[_ngcontent-%COMP%]{display:none}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:block}.resultCard[_ngcontent-%COMP%]{flex-flow:row wrap}}.postButton[_ngcontent-%COMP%]{color:rgba(198,196,137,.7803921568627451);font-family:Ubuntu;font-size:16px;margin-top:4vh;border:2px solid rgba(157,175,170,.7490196078431373)}.postDelete[_ngcontent-%COMP%]{float:right;color:rgba(255,0,0,.8117647058823529);margin-left:10px;font-size:20px;position:relative;top:-1px;cursor:pointer}.postTime[_ngcontent-%COMP%]{float:right;color:#452781}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ff0045}.mat-input-element[_ngcontent-%COMP%]{caret-color:#546184;text-align:left;border:1px solid transparent;border-radius:5px;padding:10px}.mat-input-element[_ngcontent-%COMP%]:focus{border:1px solid red}.mat-input-element[_ngcontent-%COMP%]::-moz-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]::placeholder:focus{display:none}.emojiPickerTrigger[_ngcontent-%COMP%]{opacity:1;z-index:9;padding:8px;margin-right:10px;cursor:pointer;right:0;position:relative;top:3px}.emojiPicker[_ngcontent-%COMP%]{z-index:222222!important;position:relative;right:70px;background:transparent}  nb-popover{background:transparent!important}@media only screen and (max-width:616px){.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{margin-left:0;margin-right:0!important;margin-top:0;border:0!important;margin-bottom:15px;border-radius:0;border-top:1px solid #40389e!important;border-bottom:1px solid #423193!important;width:100vw}.postContainer[_ngcontent-%COMP%]:last-child{margin-bottom:40px}}.emojiPicker[_ngcontent-%COMP%]{right:60px}@media only screen and (min-width:420px) and (max-width:480px){.emojiPicker[_ngcontent-%COMP%]{right:-40px}}@media only screen and (min-width:480px) and (max-width:900px){.emojiPicker[_ngcontent-%COMP%]{right:0}}.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);margin-left:5vw;border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;margin-right:5vw;text-align:right;margin-bottom:5vh;border:1px solid rgba(255,0,0,.25882352941176473);display:block}.postContainer[_ngcontent-%COMP%]{text-align:left;border:1px solid rgba(45,99,236,.6509803921568628);border-radius:0;margin-top:-46px}.postContainer.level-0[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:0}.postOuterWrapper[_ngcontent-%COMP%]:last-child   .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;margin-top:-56px}.postContainer.reply[_ngcontent-%COMP%]{border-left:8px solid;border-right:8px solid;border-top:1px solid;position:relative;margin:-17px 6vw 0;top:22px}.postContainer.singleLevel[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:20px;border-radius:10px!important}.postContainer.singleLevel.replyPost[_ngcontent-%COMP%]{margin-top:0!important;border-radius:10px!important}.replyLoop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.replyLoop[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:30px}.replyLoop[_ngcontent-%COMP%]:last-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px}.combinedTimeline[_ngcontent-%COMP%]:nth-child(2){margin-top:120px}.postOuterWrapper[_ngcontent-%COMP%]:last-child   .postContainer[_ngcontent-%COMP%]{margin-top:-44px}.replyLoop[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]   .lockClosed[_ngcontent-%COMP%]{display:none}.replyLoop[_ngcontent-%COMP%]:first-child   .reply[_ngcontent-%COMP%]   .lockClosed[_ngcontent-%COMP%]{display:block}"]}),at),st=o("XiUz"),lt=["qrPop"],pt=["createPop"],dt=["qrCode"];function ut(t,e){if(1&t){var n=l.Zb();l.Yb(0,"nb-card"),l.Yb(1,"nb-card-header"),l.Ic(2,"Verify Peer"),l.Xb(),l.Yb(3,"nb-card-body",16),l.Yb(4,"div",17),l.Yb(5,"zxing-scanner",18),l.fc("deviceChange",(function(t){return l.xc(n),l.jc().currentDevice=t}))("scanSuccess",(function(t){return l.xc(n),l.jc().qrSuccessHandler(t)}))("permissionResponse",(function(t){return l.xc(n),l.jc().onHasPermission(t)}))("camerasFound",(function(t){return l.xc(n),l.jc().onCamerasFound(t)}))("torchCompatible",(function(t){return l.xc(n),l.jc().onTorchCompatible(t)})),l.Xb(),l.Xb(),l.Xb(),l.Yb(6,"nb-card-footer"),l.Yb(7,"button",19),l.fc("click",(function(){return l.xc(n),l.jc().closeQR()})),l.Ic(8,"Cancel"),l.Xb(),l.Xb(),l.Xb()}if(2&t){var o=l.jc();l.Fb(5),l.pc("torch",o.torchEnabled)("device",o.currentDevice)("formats",o.formatsEnabled)("tryHarder",o.tryHarder)}}function gt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"nb-card"),l.Yb(1,"nb-card-header"),l.Ic(2,"Verify Peer"),l.Xb(),l.Yb(3,"nb-card-body",20),l.Yb(4,"div"),l.Yb(5,"div",21),l.Tb(6,"img",22),l.Xb(),l.Xb(),l.Xb(),l.Yb(7,"nb-card-footer"),l.Yb(8,"button",19),l.fc("click",(function(){return l.xc(n),l.jc().closePopup()})),l.Ic(9,"Close"),l.Xb(),l.Xb(),l.Xb()}if(2&t){var o=l.jc();l.Fb(6),l.pc("src",o.qrCodeURLSafe,l.zc)}}function ht(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",26),l.fc("click",(function(){return l.xc(n),l.jc(2).togglePrivacy()})),l.Tb(1,"nb-icon",27),l.Ic(2," Private"),l.Xb()}}function bt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",28),l.fc("click",(function(){return l.xc(n),l.jc(2).togglePrivacy()})),l.Tb(1,"nb-icon",29),l.Ic(2," Public"),l.Xb()}}function ft(t,e){if(1&t&&(l.Yb(0,"div",23),l.Gc(1,ht,3,0,"div",24),l.Gc(2,bt,3,0,"div",25),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.pc("ngIf",n.private),l.Fb(1),l.pc("ngIf",!n.private)}}function mt(t,e){1&t&&(l.Yb(0,"div",30),l.Tb(1,"img",31),l.Xb())}function vt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",45),l.fc("click",(function(){return l.xc(n),l.jc(2).showVerificationQR()})),l.Ic(1),l.Xb()}if(2&t){var o=l.jc(2);l.Ib("pubKeyDisplay ",o.isMyProfile,""),l.Fb(1),l.Jc(o.pubKey)}}function xt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",46),l.fc("click",(function(){return l.xc(n),l.jc(2).edit()})),l.Ic(1,"Edit"),l.Xb()}}function Ct(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",47),l.fc("click",(function(){return l.xc(n),l.jc(2).verify()})),l.Tb(1,"nb-icon",48),l.Xb()}}function Pt(t,e){1&t&&(l.Yb(0,"button",49),l.Tb(1,"nb-icon",48),l.Xb())}function Ot(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",50),l.fc("click",(function(){return l.xc(n),l.jc(2).setConnection(!0)})),l.Tb(1,"nb-icon",51),l.Xb()}}function Mt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",52),l.fc("click",(function(){l.xc(n);var t=l.jc(2);return t.openMessages(t.pubKey)})),l.Tb(1,"nb-icon",53),l.Xb()}}function yt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"button",54),l.fc("click",(function(){return l.xc(n),l.jc(2).setConnection(!1)})),l.Tb(1,"nb-icon",51),l.Xb()}}function kt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",55),l.fc("click",(function(){return l.xc(n),l.jc(2).showVerificationQR()})),l.ic(),l.Yb(1,"svg",56),l.Yb(2,"g"),l.Tb(3,"rect",57),l.Xb(),l.Tb(4,"path",58),l.Xb(),l.Xb()}}function _t(t,e){if(1&t&&(l.Yb(0,"div",32),l.Gc(1,vt,2,4,"div",33),l.Gc(2,xt,2,0,"button",34),l.Gc(3,Ct,2,0,"button",35),l.Gc(4,Pt,2,0,"button",36),l.Gc(5,Ot,2,0,"button",37),l.Gc(6,Mt,2,0,"button",38),l.Gc(7,yt,2,0,"button",39),l.Yb(8,"div",40),l.Yb(9,"div",41),l.Ic(10),l.Xb(),l.Yb(11,"div",42),l.Ic(12),l.Xb(),l.Xb(),l.Yb(13,"div",43),l.Ic(14),l.Xb(),l.Gc(15,kt,5,0,"div",44),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.pc("ngIf",!n.searchResultsActive),l.Fb(1),l.pc("ngIf",n.isMyProfile),l.Fb(1),l.pc("ngIf",!n.isMyProfile&&!n.isVerified),l.Fb(1),l.pc("ngIf",!n.isMyProfile&&n.isVerified),l.Fb(1),l.pc("ngIf",!n.isMyProfile&&!n.isConnection&&!n.isRequestedConnection),l.Fb(1),l.pc("ngIf",!n.isMyProfile&&n.isConnection),l.Fb(1),l.pc("ngIf",!n.isMyProfile&&n.isRequestedConnection),l.Fb(3),l.Kc(" ",n.alias," "),l.Fb(2),l.Kc(" ",n.fullName," "),l.Fb(2),l.Kc("\n",n.about,"\n"),l.Fb(1),l.pc("ngIf",!n.searchResultsActive&&n.isMyProfile)}}function wt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",66),l.fc("click",(function(){return l.xc(n),l.jc(2).showVerificationQR()})),l.Ic(1),l.Xb()}if(2&t){var o=l.jc(2);l.Fb(1),l.Jc(o.pubKey)}}function Ft(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",32),l.Gc(1,wt,2,1,"div",59),l.Yb(2,"div",40),l.Yb(3,"div",41),l.Yb(4,"input",60),l.fc("ngModelChange",(function(t){return l.xc(n),l.jc().newAlias=t})),l.Xb(),l.Xb(),l.Yb(5,"div",42),l.Yb(6,"input",61),l.fc("ngModelChange",(function(t){return l.xc(n),l.jc().newFullName=t})),l.Xb(),l.Xb(),l.Xb(),l.Yb(7,"div",62),l.Yb(8,"textarea",63),l.fc("ngModelChange",(function(t){return l.xc(n),l.jc().newAbout=t})),l.Xb(),l.Xb(),l.Yb(9,"button",64),l.fc("click",(function(){return l.xc(n),l.jc().save()})),l.Ic(10,"Save"),l.Xb(),l.Yb(11,"button",65),l.fc("click",(function(){return l.xc(n),l.jc().edit(!1)})),l.Ic(12,"Discard"),l.Xb(),l.Xb()}if(2&t){var o=l.jc();l.Fb(1),l.pc("ngIf",!o.searchResultsActive),l.Fb(3),l.pc("ngModel",o.newAlias),l.Fb(2),l.pc("ngModel",o.newFullName),l.Fb(2),l.pc("ngModel",o.newAbout)}}function St(t,e){if(1&t){var n=l.Zb();l.Yb(0,"emoji-mart",72),l.fc("emojiClick",(function(t){return l.xc(n),l.jc(2).addEmoji(t)})),l.Xb()}}function jt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",67),l.Yb(1,"textarea",68),l.fc("ngModelChange",(function(t){return l.xc(n),l.jc().newPost=t})),l.Xb(),l.Tb(2,"ngx-emoji",69),l.Gc(3,St,1,0,"ng-template",null,70,l.Hc),l.Yb(5,"button",71),l.fc("click",(function(){return l.xc(n),l.jc().post()})),l.Ic(6,"Post"),l.Xb(),l.Xb()}if(2&t){var o=l.vc(4),i=l.jc();l.Fb(1),l.pc("ngModel",i.newPost),l.Fb(1),l.pc("nbPopover",o)}}function Bt(t,e){if(1&t&&l.Tb(0,"social-timeline-post-combined-timeline",73),2&t){var n=e.$implicit,o=l.jc();l.pc("combinedTimeline",n)("isMyProfile",o.isMyProfile)}}function It(t,e){1&t&&(l.Yb(0,"button",76),l.Ic(1," Sync More "),l.Xb())}function Rt(t,e){1&t&&(l.Yb(0,"button",76),l.Ic(1," Sync "),l.Xb())}function zt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",74),l.fc("click",(function(){l.xc(n);var t=l.jc();return t.syncMore(t.pubKey)})),l.Gc(1,It,2,0,"button",75),l.Gc(2,Rt,2,0,"button",75),l.Xb()}if(2&t){var o=l.jc();l.Fb(1),l.pc("ngIf",o.groupedTimeline.length>0),l.Fb(1),l.pc("ngIf",0===o.groupedTimeline.length)}}function Tt(t,e){1&t&&l.Tb(0,"nb-icon",93)}function qt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"nb-icon",94),l.fc("click",(function(){l.xc(n);var t=l.jc().$implicit;return l.jc(2).openMessages(t.key.pubKey)})),l.Xb()}}function Nt(t,e){1&t&&l.Tb(0,"nb-icon",51)}function Yt(t,e){1&t&&l.Tb(0,"nb-icon",93)}function Xt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"nb-icon",94),l.fc("click",(function(){l.xc(n);var t=l.jc().$implicit;return l.jc(2).openMessages(t.key.pubKey)})),l.Xb()}}function At(t,e){1&t&&l.Tb(0,"nb-icon",51)}function Lt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",79),l.Yb(1,"div",80),l.fc("click",(function(){l.xc(n);var t=e.$implicit;return l.jc(2).openProfile(t.key.pubKey)})),l.Yb(2,"div",81),l.Tb(3,"img",82),l.Xb(),l.Yb(4,"div",83),l.Yb(5,"span",84),l.Ic(6),l.Xb(),l.Tb(7,"br"),l.Yb(8,"span",85),l.Ic(9),l.Xb(),l.Xb(),l.Yb(10,"div",86),l.Gc(11,Tt,1,0,"nb-icon",87),l.Gc(12,qt,1,0,"nb-icon",88),l.Gc(13,Nt,1,0,"nb-icon",89),l.Xb(),l.Yb(14,"div",90),l.Yb(15,"div",91),l.Ic(16),l.Xb(),l.Xb(),l.Yb(17,"div",92),l.Gc(18,Yt,1,0,"nb-icon",87),l.Gc(19,Xt,1,0,"nb-icon",88),l.Gc(20,At,1,0,"nb-icon",89),l.Xb(),l.Xb(),l.Xb()}if(2&t){var o=e.$implicit;l.Fb(6),l.Kc("",o.alias," "),l.Fb(3),l.Kc("",o.fullName," "),l.Fb(2),l.pc("ngIf",!o.isFavorite&&!o.isRequestedFavorite),l.Fb(1),l.pc("ngIf",o.isFavorite),l.Fb(1),l.pc("ngIf",o.isRequestedFavorite),l.Fb(3),l.Kc(" ",o.about," "),l.Fb(2),l.pc("ngIf",!o.isFavorite&&!o.isRequestedFavorite),l.Fb(1),l.pc("ngIf",o.isFavorite),l.Fb(1),l.pc("ngIf",o.isRequestedFavorite)}}function Dt(t,e){if(1&t&&(l.Yb(0,"div",77),l.Gc(1,Lt,21,9,"div",78),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.pc("ngForOf",n.searchResults)}}function Et(t,e){1&t&&l.Tb(0,"nb-icon",95)}function Kt(t,e){if(1&t&&l.Ic(0),2&t){var n=l.jc();l.Jc(n.buttonTitle)}}var Vt,Gt=((Vt=function(){function t(e,n,o,r,a,c,s){i(this,t),this.route=e,this.router=n,this.ngZone=o,this._sanitizer=r,this.dialog=a,this.cd=c,this.q=s,this.pubKey="NoProfileSelected",this.newPost="",this.timeline=[],this.DEVMODE=w.dev,this.buttonTitle="",this.status="",this.inputFocus=!1,this.inputHover=!1,this.searchPhrase="",this.searchResults=[],this.searchResultsActive=!1,this.noProfileSelected="NoProfileSelected",this.syncSub={},this.synced=[],this.replyTree={},this.groupedTimeline=[],this.syncStatus=!1,this.alias="Anonymous",this.fullName="Anonymous",this.about="The Universe is under no obligation to make sense to you. I'd rather not say anything. do@not-find-me.com",this.editDetails=!1,this.isMyProfile=!1,this.private=!0,this.isConnection=!1,this.isRequestedConnection=!1,this.requestLock=!1,this.currentDevice=null,this.formatsEnabled=[_.BarcodeFormat.QR_CODE],this.torchEnabled=!1,this.torchAvailable$=new k.a(!1),this.tryHarder=!1,this.isVerified=!1,this.verifyQrCode="",this.popupRef=[],this.isOwner=!1}return a(t,[{key:"post",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=typeof this.pubKey&&"NoProfileSelected"!=this.pubKey){t.next=2;break}throw"no key set";case 2:return t.next=4,this.q.os.social.profile.get(this.pubKey);case 4:if(e=t.sent,console.log(e),void 0!==e.alias){t.next=7;break}throw alert("Please set your Alias first!"),"no name set";case 7:return n={content:this.newPost,socialPubKey:this.pubKey},t.next=10,this.q.os.social.timeline.post.new(n);case 10:this.newPost="",setTimeout((function(){o.syncTimeline()}),2e3);case 12:case"end":return t.stop()}}),t,this)})))}},{key:"addEmoji",value:function(t){this.newPost+=" "+t.emoji.colons+" "}},{key:"showStream",value:function(){var t=this;this.ngZone.run((function(){return t.router.navigate(["/social/stream/network"])}))}},{key:"parseSearchBar",value:function(){this.searchPhrase.length>0?this.search():(this.searchResultsActive=!1,this.cd.detectChanges())}},{key:"search",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.q.os.social.profile.search(this.searchPhrase);case 2:this.searchResults=t.sent,this.searchResultsActive=this.searchResults.length>0,this.cd.detectChanges();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"setStatus",value:function(t){this.status!==t&&(this.status=t)}},{key:"getInputStatus",value:function(){return""}},{key:"loadProfile",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Profile: Initializing..."),this.isConnection=this.q.os.social.profile.isFavorite(this.pubKey),this.isRequestedConnection=this.q.os.social.profile.isRequestedFavorite(this.pubKey),this.isVerified=this.q.os.social.profile.isVerified(this.pubKey),console.log("Profile: Bootstrapping Profile..."),t.prev=1,t.next=4,this.q.os.social.profile.get(this.pubKey);case 4:e=t.sent,this.isMyProfile=this.q.os.social.profile.isMyProfileId(this.pubKey),console.log("Social: Is my profile:",this.isMyProfile),void 0!==e.alias&&(this.alias=e.alias),void 0!==e.fullName&&(this.fullName=e.fullName),void 0!==e.about&&(this.about=e.about),void 0!==e.private&&(this.private=e.private),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})))}},{key:"syncMore",value:function(t){var e=this.q.os.social.timeline.agent.getLimit(t);e+=5,this.q.os.social.timeline.agent.sync(t,{limit:e})}},{key:"updateListen",value:function(){var t=this;void 0===this.syncSub[this.pubKey]&&(this.syncSub[this.pubKey]=this.q.os.social.timeline.agent.onSync(this.pubKey).subscribe((function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.syncStatus=!1,void 0!==e&&void 0!==e.groupedTimeline?(this.groupedTimeline=[],this.groupedTimeline=e.groupedTimeline,this.q.os.ui.showSnack("Timeline Synced!","Yeah",{duration:500}),this.syncStatus=!0,this.cd.detectChanges(),setTimeout((function(){n.cd.detectChanges()}),2e3),setTimeout((function(){n.cd.detectChanges()}),5e3),setTimeout((function(){n.syncStatus=!0,n.cd.detectChanges()}),1e4)):(this.q.os.ui.showSnack("Sync Failed!","Oh No",{duration:1e3}),this.syncStatus=!0);case 1:case"end":return t.stop()}}),t,this)})))})))}},{key:"ngOnInit",value:function(){this.ngOnChanges()}},{key:"ngOnChanges",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(void 0!==this.pubKey&&"NoProfileSelected"!=this.pubKey&&this.pubKey.length>0)){t.next=11;break}return t.prev=1,t.next=4,this.loadProfile();case 4:this.cd.detectChanges(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:t.next=18;break;case 11:return t.next=13,this.q.os.social.profile.getMyProfile();case 13:return e=t.sent,this.pubKey=JSON.parse(JSON.stringify(e.key.pubKey)),t.next=17,this.loadProfile();case 17:this.cd.detectChanges();case 18:void 0===this.paramSub&&(this.paramSub=this.route.params.subscribe((function(t){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),void 0!==t.pubKey&&(this.pubKey=t.pubKey),this.q.os.ui.showSnack("Syncing Timeline...","Please Wait"),this.ngOnChanges();case 1:case"end":return e.stop()}}),e,this)})))}))),setTimeout((function(){n.syncTimeline()}),3e3);case 19:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"syncTimeline",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.unsubscribeAll(),this.updateListen(),t.prev=1,t.next=4,this.q.os.social.timeline.agent.sync(this.pubKey);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,this,[[1,6]])})))}},{key:"unsubscribeAll",value:function(){for(var t=0,e=Object.keys(this.syncSub);t<e.length;t++){var n=e[t];try{this.syncSub[n].unsubscribe(),delete this.syncSub[this.pubKey]}catch(o){}}}},{key:"ngOnDestroy",value:function(){this.paramSub.unsubscribe(),this.unsubscribeAll()}},{key:"edit",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.newAlias=this.alias,this.newFullName=this.fullName,this.newAbout=this.about),this.editDetails=t}},{key:"save",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,this.q.os.social.timeline.getReferenceTree(this.pubKey);case 4:e=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:n={private:this.private,alias:this.newAlias,fullName:this.newFullName,about:this.newAbout},e.length>0&&(n.timeline=e),this.q.os.social.profile.set(this.pubKey,n),this.q.os.social.profile.select(this.pubKey),this.edit(!1),this.ngOnChanges();case 11:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"setConnection",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.requestLock){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.requestLock=!0,!t){e.next=13;break}return e.next=5,this.q.os.social.profile.getMyProfileId();case 5:if(n=e.sent,console.log("qSocial: trying to add New Favorite Request...",this.pubKey),this.q.os.social.profile.isRequestedFavorite(this.pubKey)){e.next=11;break}return e.next=9,this.q.os.channel.create("qprivatedch-"+n+"-"+this.pubKey,"",!0);case 9:o=e.sent,this.q.os.social.profile.addFavoriteRequest(this.pubKey,o),this.isRequestedConnection=t,this.requestLock=!1;case 11:e.next=15;break;case 13:i=this.q.os.channel.find(this.pubKey),this.q.os.channel.remove(i),this.q.os.social.profile.removeFavorite(this.pubKey),this.q.os.social.profile.removeFavoriteRequest(this.pubKey),this.isRequestedConnection=t,this.isConnection=t,this.requestLock=!1;case 15:case"end":return e.stop()}}),e,this)})))}},{key:"togglePrivacy",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isMyProfile){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this.q.os.social.profile.togglePrivacy(this.pubKey);case 4:this.private=!this.private;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"openProfile",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.pubKey=t,this.q.os.social.profile.select(this.pubKey),this.searchResultsActive=!1;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"openMessages",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.q.os.channel.find(t),this.q.os.channel.select(n),this.ngZone.run((function(){return o.router.navigate(["/messages"])}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"searchBarClicked",value:function(){this.searchResults.length>0&&(this.searchResultsActive=!0)}},{key:"verify",value:function(){this.scanQR()}},{key:"onCamerasFound",value:function(t){this.availableDevices=t,this.hasDevices=Boolean(t&&t.length)}},{key:"onDeviceSelectChange",value:function(t){var e=this.availableDevices.find((function(e){return e.deviceId===t}));this.currentDevice=e||null}},{key:"onHasPermission",value:function(t){this.hasPermission=t}},{key:"onTorchCompatible",value:function(t){this.torchAvailable$.next(t||!1)}},{key:"toggleTorch",value:function(){this.torchEnabled=!this.torchEnabled}},{key:"toggleTryHarder",value:function(){this.tryHarder=!this.tryHarder}},{key:"qrSuccessHandler",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),alert("success!"),e.next=4,this.q.os.social.verify(this.pubKey,JSON.parse(t));case 4:if(!e.sent){e.next=8;break}this.isVerified=!0,e.next=9;break;case 8:this.q.os.ui.showSnack("Verification Failed",{duration:2e3}),this.isVerified=!1;case 9:this.closePopup();case 10:case"end":return e.stop()}}),e,this)})))}},{key:"closeQR",value:function(){var t=this;setTimeout((function(){t.closePopup()}),500)}},{key:"scanQR",value:function(){this.open(this.qrPop)}},{key:"showVerificationQR",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isMyProfile){t.next=5;break}return t.next=3,this.q.os.social.profile.getVerificationQR();case 3:e=t.sent,console.log(e),this.generateQR(e),this.open(this.qrCode),this.q.os.social.profile.startVerificationWorker();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"open",value:function(t){this.popupRef.push(this.dialog.open(t,{context:"this is some additional data passed to dialog"}))}},{key:"closePopup",value:function(){console.log("close toggled"),this.popupRef[this.popupRef.length-1].close(),this.popupRef.pop()}},{key:"generateQR",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.t0=this._sanitizer,e.next=4,this.q.os.utilities.qr.generate(t);case 4:e.t1=e.sent,this.qrCodeURLSafe=e.t0.bypassSecurityTrustUrl.call(e.t0,e.t1);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"generateInviteCode",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Vt)(l.Sb(c.a),l.Sb(c.c),l.Sb(l.C),l.Sb(F.b),l.Sb(p.l),l.Sb(l.h),l.Sb(d.a))},Vt.\u0275cmp=l.Mb({type:Vt,selectors:[["app-social-profile"]],viewQuery:function(t,e){var n;1&t&&(l.Mc(lt,!0),l.Mc(pt,!0),l.Mc(dt,!0)),2&t&&(l.uc(n=l.gc())&&(e.qrPop=n.first),l.uc(n=l.gc())&&(e.createPop=n.first),l.uc(n=l.gc())&&(e.qrCode=n.first))},hostAttrs:[1,"profileLayoutColumn"],inputs:{pubKey:"pubKey",buttonTitle:"buttonTitle",replyTree:"replyTree",groupedTimeline:"groupedTimeline"},features:[l.Db],decls:20,vars:12,consts:[["qrPop",""],["qrCode",""],["class","poster",4,"ngIf"],["class","pp",4,"ngIf"],["class","details mat-elevation-z6",4,"ngIf"],["class","newPostContainer mat-elevation-z8",4,"ngIf"],[3,"combinedTimeline","isMyProfile",4,"ngFor","ngForOf"],["class","fundUs",3,"click",4,"ngIf"],["class","results social-search-results",4,"ngIf"],[1,"search","profileSearch"],[1,"message-row"],[2,"width","100%"],["fullWidth","","nbInput","","type","text",1,"mat-elevation-z16",3,"ngModel","placeholder","ngModelChange","focus","blur","mouseenter","mouseleave","keyup.enter","keyup","click"],["nbSuffix","","nbButton","","ghost","",1,"searchButtonWrapper",3,"click"],["class","searchButton","icon","search-outline",4,"ngIf","ngIfElse"],["title",""],[2,"color","goldenrod"],[1,"qrScanWrapper"],[3,"torch","device","formats","tryHarder","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],["mat-stroked-button","","color","primary",2,"border","1px solid #ffffff24",3,"click"],[2,"margin","10px","color","goldenrod"],[1,"qrCodeWrapper"],["alt","",1,"qrCodeShowGenerate",3,"src"],[1,"poster"],["class","profilePrivacy private mat-elevatation-z6",3,"click",4,"ngIf"],["class","profilePrivacy mat-elevatation-z14",3,"click",4,"ngIf"],[1,"profilePrivacy","private","mat-elevatation-z6",3,"click"],["icon","lock-outline"],[1,"profilePrivacy","mat-elevatation-z14",3,"click"],["icon","globe-outline"],[1,"pp"],["src","./assets/defaultAvatar.png",1,"mat-elevation-z14"],[1,"details","mat-elevation-z6"],[3,"class","click",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton starButton verifyButton",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton starButton active verifyButton",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton starButton",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton starButton active",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary","class","defaultSettingsButton thickOutlineButton editButton starButton pending",3,"click",4,"ngIf"],[1,"name"],[1,"alias"],[1,"fullname"],[1,"about"],["class","pubKeyDisplay Icon",3,"click",4,"ngIf"],[3,"click"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton",3,"click"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton","starButton","verifyButton",3,"click"],["icon","checkmark-circle-2-outline"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton","starButton","active","verifyButton"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton","starButton",3,"click"],["icon","star-outline"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton","starButton","active",3,"click"],["icon","message-circle-outline"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","editButton","starButton","pending",3,"click"],[1,"pubKeyDisplay","Icon",3,"click"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","viewBox","0 0 24 24","fill","black","width","18px","height","18px",1,"pubKeyIcon"],["fill","none","height","24","width","24"],["d","M15,21h-2v-2h2V21z M13,14h-2v5h2V14z M21,12h-2v4h2V12z M19,10h-2v2h2V10z M7,12H5v2h2V12z M5,10H3v2h2V10z M12,5h2V3h-2V5 z M4.5,4.5v3h3v-3H4.5z M9,9H3V3h6V9z M4.5,16.5v3h3v-3H4.5z M9,21H3v-6h6V21z M16.5,4.5v3h3v-3H16.5z M21,9h-6V3h6V9z M19,19v-3 l-4,0v2h2v3h4v-2H19z M17,12l-4,0v2h4V12z M13,10H7v2h2v2h2v-2h2V10z M14,9V7h-2V5h-2v4L14,9z M6.75,5.25h-1.5v1.5h1.5V5.25z M6.75,17.25h-1.5v1.5h1.5V17.25z M18.75,5.25h-1.5v1.5h1.5V5.25z"],["class","pubKeyDisplay",3,"click",4,"ngIf"],["matInput","","placeholder","Alias","name","newAlias",3,"ngModel","ngModelChange"],["matInput","","placeholder","Full Name","name","newFullName",3,"ngModel","ngModelChange"],[1,"about",2,"padding-bottom","20px"],["matInput","","name","about",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","saveButton",3,"click"],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","thickOutlineButton","discardButton",3,"click"],[1,"pubKeyDisplay",3,"click"],[1,"newPostContainer","mat-elevation-z8"],["matInput","","name","newPost","placeholder","What's going on?",3,"ngModel","ngModelChange"],["emoji","grinning","set","apple","size","24",1,"emojiPickerTrigger",3,"nbPopover"],["emojiPickerRef",""],["mat-stroked-button","","color","primary",1,"defaultSettingsButton","postButton",3,"click"],["title","Pick your emoji\u2026","emoji","blush","darkMode","true",1,"emojiPicker",3,"emojiClick"],[3,"combinedTimeline","isMyProfile"],[1,"fundUs",3,"click"],["mat-stroked-button","","color","secondary","class","mat-elevation-z18 defaultSettingsButton noOutlineButton fundButton",4,"ngIf"],["mat-stroked-button","","color","secondary",1,"mat-elevation-z18","defaultSettingsButton","noOutlineButton","fundButton"],[1,"results","social-search-results"],["class","resultCardWrapper",4,"ngFor","ngForOf"],[1,"resultCardWrapper"],["fxLayout","row",1,"resultCard","mat-elevation-z6",3,"click"],[1,"searchResultPp"],["src","./assets/defaultAvatar.png",1,"searchResultPpImg"],[1,"searchResultColumn"],[1,"searchResultAlias"],[1,"searchResultFullName"],[1,"searchResultConnection","topCorner"],["icon","star-outline","style","opacity: 0.2;",4,"ngIf"],["icon","message-circle-outline",3,"click",4,"ngIf"],["icon","star-outline",4,"ngIf"],[1,"searchResultAbout","searchResultColumn",2,"flex","auto"],[1,"searchResultAboutWrapper"],[1,"searchResultConnection","searchResultColumn",2,"margin-top","27px","margin-right","10px"],["icon","star-outline",2,"opacity","0.2"],["icon","message-circle-outline",3,"click"],["icon","search-outline",1,"searchButton"]],template:function(t,e){if(1&t&&(l.Gc(0,ut,9,4,"ng-template",null,0,l.Hc),l.Gc(2,gt,10,1,"ng-template",null,1,l.Hc),l.Gc(4,ft,3,2,"div",2),l.Gc(5,mt,2,0,"div",3),l.Gc(6,_t,16,11,"div",4),l.Gc(7,Ft,13,4,"div",4),l.Gc(8,jt,7,2,"div",5),l.Gc(9,Bt,1,2,"social-timeline-post-combined-timeline",6),l.Gc(10,zt,3,2,"div",7),l.Gc(11,Dt,2,1,"div",8),l.Yb(12,"div",9),l.Yb(13,"div",10),l.Yb(14,"div",11),l.Yb(15,"input",12),l.fc("ngModelChange",(function(t){return e.searchPhrase=t}))("focus",(function(){return e.inputFocus=!0}))("blur",(function(){return e.inputFocus=!1}))("mouseenter",(function(){return e.inputHover=!0}))("mouseleave",(function(){return e.inputHover=!1}))("keyup.enter",(function(){return e.search()}))("keyup",(function(){return e.parseSearchBar()}))("click",(function(){return e.searchBarClicked()})),l.Xb(),l.Yb(16,"button",13),l.fc("click",(function(){return e.search()})),l.Gc(17,Et,1,0,"nb-icon",14),l.Gc(18,Kt,1,1,"ng-template",null,15,l.Hc),l.Xb(),l.Xb(),l.Xb(),l.Xb()),2&t){var n=l.vc(19);l.Fb(4),l.pc("ngIf",!e.searchResultsActive),l.Fb(1),l.pc("ngIf",!e.searchResultsActive),l.Fb(1),l.pc("ngIf",!e.editDetails&&!e.searchResultsActive),l.Fb(1),l.pc("ngIf",e.editDetails&&!e.searchResultsActive),l.Fb(1),l.pc("ngIf",e.isMyProfile),l.Fb(1),l.pc("ngForOf",e.groupedTimeline),l.Fb(1),l.pc("ngIf",!e.searchResultsActive),l.Fb(1),l.pc("ngIf",e.searchResultsActive),l.Fb(4),l.qc("placeholder","Who are you looking for?"),l.pc("ngModel",e.searchPhrase),l.Fb(2),l.pc("ngIf",!e.buttonTitle)("ngIfElse",n)}},directives:[u.m,u.l,S.b,S.j,S.m,p.E,p.d,p.f,p.c,j.a,p.e,g.a,p.o,B.a,I.a,p.z,R.a,ct,st.b],styles:[".browse-files-button[_ngcontent-%COMP%]{border-radius:3px;padding:5px;color:purple}.importButton[_ngcontent-%COMP%]{color:purple!important}.captchaScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%]{background-color:#222b45;padding:20px;text-align:center}.captchaScreen[_ngcontent-%COMP%], .captchaScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .chatScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.poster[_ngcontent-%COMP%]{height:30vh;background-color:#111161}.qrCodeShowGenerate[_ngcontent-%COMP%]{max-width:85vw}.pp[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;position:relative;left:30px;top:-30px;z-index:1}.pp[_ngcontent-%COMP%], .pp[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:60px}.name[_ngcontent-%COMP%]{white-space:nowrap}.alias[_ngcontent-%COMP%]{font-size:24px}.alias[_ngcontent-%COMP%], .fullname[_ngcontent-%COMP%]{white-space:nowrap;float:left}.fullname[_ngcontent-%COMP%]{margin-left:20px;opacity:.5}.about[_ngcontent-%COMP%]{clear:both;padding-top:30px;padding-right:20px}.details[_ngcontent-%COMP%]{overflow:hidden;background:#2d2b2b;color:#fff;padding-left:20px;font-size:20px;padding-top:60px;z-index:0;padding-bottom:50px;margin-top:-60px;margin-bottom:42px;color:#6d95ce;z-index:11;background:#151b2e;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471))}.editButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:20px;margin-top:-15px}.discardButton[_ngcontent-%COMP%], .saveButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:23px}.fundButton[_ngcontent-%COMP%]{background:#bfbf13!important;font-size:16px!important}.profilePrivacy[_ngcontent-%COMP%]{position:relative;float:right;font-size:19px;right:18px;background:#eed864;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:18px;z-indeX:1}.profilePrivacy[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}@media only screen and (max-width:600px){.fullname[_ngcontent-%COMP%]{clear:both;margin-left:0}}input[_ngcontent-%COMP%]{caret-color:#fff}.pubKeyDisplay[_ngcontent-%COMP%]{left:99px;right:8px;line-height:7px;font-size:7px;font-family:MONOSPACE;word-break:break-all;overflow:hidden;color:rgba(211,166,65,.25098039215686274)!important;z-index:9999;top:-45px;margin-top:-53px;margin-bottom:23px;margin-left:78px}.pubKeyDisplay.true[_ngcontent-%COMP%]{cursor:pointer}.starButton[_ngcontent-%COMP%]{color:rgba(42,68,120,.5098039215686274);border:0 solid transparent!important}.starButton[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}.starButton[_ngcontent-%COMP%]:hover{color:rgba(37,109,255,.5607843137254902)}.starButton.active[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.starButton.active[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.starButton.pending[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.search[_ngcontent-%COMP%]{z-index:23;position:fixed;right:0;left:0;padding:20px;height:95px;bottom:28px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Ubuntu;position:absolute;letter-spacing:1px;color:rgba(241,237,205,.8196078431372549);padding:10px 10px 10px 26px;font-size:16px;left:5%;width:90%;font-weight:500!important}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid red}.search[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:rgba(41,104,245,.8313725490196079)}.pp[_ngcontent-%COMP%]{z-index:12}.fundUs[_ngcontent-%COMP%]{z-index:2;width:100%;padding-bottom:192px;text-align:center;margin-top:38px}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;height:40px;width:40px;border:0;color:#7b9cc3;padding-right:8px;width:50px;position:absolute;top:19px;right:5%}.search[_ngcontent-%COMP%]   .searchButton[_ngcontent-%COMP%]:focus, .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%]:focus{outline:none!important;border:0!important;box-shadow:none!important}.results[_ngcontent-%COMP%]{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.59));font-family:Ubuntu;overflow:hidden;overflow-y:auto;position:fixed;left:0;right:0;bottom:27px;top:49px;z-index:22}.resultCardWrapper[_ngcontent-%COMP%]{padding:20px 4% 20px 5%}.resultCardWrapper[_ngcontent-%COMP%]:first-child{padding-top:60px;padding-bottom:20px}.resultCardWrapper[_ngcontent-%COMP%]:last-child{padding-bottom:120px}.searchResultAlias[_ngcontent-%COMP%]{font-size:18px}.searchResultPp[_ngcontent-%COMP%], .searchResultPpImg[_ngcontent-%COMP%]{height:100px}.searchResultColumn[_ngcontent-%COMP%]{color:#4f84e2;padding:10px 10px 10px 20px}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:none;color:#4f84e2;margin-top:7px}.searchResultAboutWrapper[_ngcontent-%COMP%]{width:100%}.resultCard[_ngcontent-%COMP%]{border-radius:5px;flex-direction:row;box-sizing:border-box;display:flex;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));background:linear-gradient(90deg,#192752,rgba(16,22,41,.5882352941176471));background:linear-gradient(90deg,#192752,rgba(16,22,41,.8313725490196079));overflow:hidden;cursor:pointer;border:1px solid transparent}.resultCard[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.8313725490196079));overflow:hidden;border:1px solid red}.searchResultFullName[_ngcontent-%COMP%]{color:rgba(79,132,226,.5411764705882353)}@media only screen and (max-width:816px){.searchResultColumn[_ngcontent-%COMP%]{padding-left:10px}.searchResultConnection.searchResultColumn[_ngcontent-%COMP%]{display:none}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:block}.resultCard[_ngcontent-%COMP%]{flex-flow:row wrap}}.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);margin-left:5vw;border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;margin-right:5vw;text-align:right;margin-bottom:5vh;border:1px solid rgba(255,0,0,.25882352941176473);display:block}.postContainer[_ngcontent-%COMP%]{text-align:left;border:1px solid rgba(45,99,236,.6509803921568628);border-radius:0;margin-top:-56px}.postContainer.level-0[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:0}.postOuterWrapper[_ngcontent-%COMP%]:last-child   .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;margin-top:-56px}.postButton[_ngcontent-%COMP%]{color:rgba(198,196,137,.7803921568627451);font-family:Ubuntu;font-size:16px;margin-top:4vh;border:2px solid rgba(157,175,170,.7490196078431373)}.postDelete[_ngcontent-%COMP%]{float:right;color:rgba(255,0,0,.8117647058823529);margin-left:10px;font-size:20px;position:relative;top:-1px;cursor:pointer}.postTime[_ngcontent-%COMP%]{float:right;color:#452781}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ff0045}.mat-input-element[_ngcontent-%COMP%]{caret-color:#546184;text-align:left;border:1px solid transparent;border-radius:5px;padding:10px}.mat-input-element[_ngcontent-%COMP%]:focus{border:1px solid red}.mat-input-element[_ngcontent-%COMP%]::-moz-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]::placeholder:focus{display:none}.emojiPickerTrigger[_ngcontent-%COMP%]{opacity:1;z-index:9;padding:8px;margin-right:10px;cursor:pointer;right:0;position:relative;top:3px}.emojiPicker[_ngcontent-%COMP%]{z-index:222222!important;position:relative;right:70px;background:transparent}  nb-popover{background:transparent!important}@media only screen and (max-width:616px){.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{margin-right:0!important;border-radius:0;border-top:1px solid #40389e!important;border-bottom:1px solid #423193!important;margin:0 5vw 15px 0}.postContainer[_ngcontent-%COMP%]:last-child{margin-bottom:40px}}.emojiPicker[_ngcontent-%COMP%]{right:60px;font-size:19px;right:22px;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:20px}@media only screen and (min-width:420px) and (max-width:480px){.emojiPicker[_ngcontent-%COMP%]{right:-40px}}@media only screen and (min-width:480px) and (max-width:900px){.emojiPicker[_ngcontent-%COMP%]{right:0}}.profilePrivacy.private[_ngcontent-%COMP%]{background:rgba(231,213,100,.6784313725490196);font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:20px}.postContainer.reply[_ngcontent-%COMP%]{border-left:8px solid;border-right:8px solid;border-top:1px solid;position:relative;margin:-17px 6vw 0;top:22px}.postContainer.singleLevel[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:20px;border-radius:10px!important}.postContainer.singleLevel.replyPost[_ngcontent-%COMP%]{margin-top:0!important;border-radius:10px!important}.replyLoop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.replyLoop[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:30px}.replyLoop[_ngcontent-%COMP%]:last-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px}.pubKeyIcon[_ngcontent-%COMP%]{width:35px;height:35px;fill:rgba(63,62,167,.7686274509803922);position:static;right:30px;cursor:pointer}.pubKeyDisplay.Icon[_ngcontent-%COMP%]{float:right;margin:0 30px 0 0;padding:0;height:0;overflow:visible}.pubKeyDisplay.Icon[_ngcontent-%COMP%]:hover   .pubKeyIcon[_ngcontent-%COMP%]{fill:#5851bb}@media only screen and (max-width:807px){.pubKeyDisplay[_ngcontent-%COMP%]{max-height:20px;text-overflow:ellipsis;line-height:10px;font-size:10px;font-family:MONOSPACE;word-break:break-all;overflow:hidden}.editButton[_ngcontent-%COMP%]{margin-top:-9px}}"],changeDetection:0}),Vt),Ht=["qrPop"],Wt=["createPop"];function Zt(t,e){1&t&&l.Tb(0,"nb-icon",8)}function Ut(t,e){if(1&t&&l.Ic(0),2&t){var n=l.jc();l.Jc(n.buttonTitle)}}function $t(t,e){if(1&t&&l.Tb(0,"social-timeline-post-combined-timeline",13),2&t){var n=e.$implicit,o=l.jc(2);l.pc("combinedTimeline",n)("isMyProfile",o.isMyProfile)}}function Qt(t,e){if(1&t){var n=l.Zb();l.Yb(0,"div",14),l.fc("click",(function(){return l.xc(n),l.jc(2).syncMore()})),l.Yb(1,"button",15),l.Ic(2," Sync More "),l.Xb(),l.Xb()}}function Jt(t,e){1&t&&(l.Yb(0,"div",16),l.Yb(1,"a",17),l.Yb(2,"button",18),l.Ic(3," Syncing... "),l.Xb(),l.Xb(),l.Xb())}function te(t,e){if(1&t&&(l.Yb(0,"div",9),l.Gc(1,$t,1,2,"social-timeline-post-combined-timeline",10),l.Gc(2,Qt,3,0,"div",11),l.Gc(3,Jt,4,0,"div",12),l.Xb()),2&t){var n=l.jc();l.Fb(1),l.pc("ngForOf",n.groupedTimeline),l.Fb(1),l.pc("ngIf",!n.searchResultsActive&&n.groupedTimeline.length>0),l.Fb(1),l.pc("ngIf",!(n.searchResultsActive||0!=n.groupedTimeline.length&&n.syncStatus))}}var ee=["qrPop"],ne=["createPop"];function oe(t,e){1&t&&l.Tb(0,"nb-icon",11)}function ie(t,e){if(1&t&&l.Ic(0),2&t){var n=l.jc();l.Jc(n.buttonTitle)}}function re(t,e){1&t&&l.Tb(0,"social-timeline-post-combined-timeline",12),2&t&&l.pc("combinedTimeline",e.$implicit)}function ae(t,e){1&t&&(l.Yb(0,"div",13),l.Tb(1,"nb-icon",14),l.Xb())}function ce(t,e){if(1&t&&(l.Yb(0,"div",17),l.Tb(1,"app-social-profile-post",18),l.Xb()),2&t){var n=l.jc().$implicit,o=l.jc();l.Fb(1),l.pc("postObj",n)("isMyProfile",o.isMyProfile)}}function se(t,e){if(1&t&&(l.Yb(0,"div",15),l.Gc(1,ce,2,2,"div",16),l.Xb()),2&t){var n=e.$implicit;l.Fb(1),l.pc("ngIf",null!=n.content&&n.content.length>0)}}var le,pe,de,ue,ge=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"",component:y,children:[{path:"profile/:pubKey",component:Gt},{path:"profile",component:Gt},{path:"stream/:algoName",component:(pe=function(){function t(e,n,o,r){i(this,t),this._sanitizer=e,this.dialog=n,this.cd=o,this.q=r,this.pubKey="NoProfileSelected",this.postList=[],this.initRnd=0,this.DEVMODE=w.dev,this.buttonTitle="",this.status="",this.inputFocus=!1,this.inputHover=!1,this.searchPhrase="",this.searchResults=[],this.searchResultsActive=!1,this.noProfileSelected="NoProfileSelected",this.syncSub={},this.groupedTimeline=[],this.replyTree={},this.syncStatus=!0,this.popupRef=[]}return a(t,[{key:"parseSearchBar",value:function(){this.searchPhrase.length>0?this.search():this.cd.detectChanges()}},{key:"search",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.q.os.social.timeline.search(this.searchPhrase);case 2:this.searchResults=t.sent,this.timeline=this.searchResults.length>0?this.searchResults:this.q.os.social.timeline.get(),this.cd.detectChanges();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateListen",value:function(){var t=this;this.groupedTimeline=[],this.replyTree={},void 0===this.syncSub.all&&(this.syncSub.all=this.q.os.social.timeline.agent.onSync("all").subscribe((function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e&&void 0!==e.groupedTimeline?(this.groupedTimeline=e.groupedTimeline,this.syncStatus=!0,this.q.os.ui.showSnack("Stream Synced!","Yeah",{duration:1e3}),this.cd.detectChanges(),setTimeout((function(){n.cd.detectChanges()}),5e3),setTimeout((function(){n.cd.detectChanges()}),12e3)):this.syncStatus=!0;case 1:case"end":return t.stop()}}),t,this)})))})))}},{key:"ngOnDestroy",value:function(){try{this.onAlgoChange.unsubscribe()}catch(o){}for(var t=0,e=Object.keys(this.syncSub);t<e.length;t++){var n=e[t];this.syncSub[n].unsubscribe()}}},{key:"ngOnInit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.q.os.ui.showSnack("Syncing Stream...","Please Wait"),this.syncStatus=!1,this.updateListen(),e.next=3,this.q.os.social.timeline.agent.sync("all");case 3:n=e.sent,this.groupedTimeline=n.groupedTimeline,this.syncStatus=!0,t||(this.onAlgoChange=this.q.os.social.algo.onSelect().subscribe((function(t){return Object(s.a)(o,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.ngOnInit(!0);case 1:case"end":return t.stop()}}),t,this)})))})));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"unsubscribeAll",value:function(){for(var t=0,e=Object.keys(this.syncSub);t<e.length;t++){var n=e[t];try{this.syncSub[n].unsubscribe(),delete this.syncSub[this.pubKey]}catch(o){}}}},{key:"ngOnChanges",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}},{key:"searchBarClicked",value:function(){}},{key:"syncMoreWorker",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.q.os.social.timeline.agent.getLimit("all"),e+=5,t.next=4,this.q.os.social.timeline.agent.sync("all",{limit:e});case 4:n=t.sent,this.groupedTimeline=n.groupedTimeline,this.syncStatus=!0,this.q.os.ui.showSnack("Stream Synced!","Yay",{duration:1e3}),console.log(this.groupedTimeline),this.cd.detectChanges();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"syncMore",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.q.os.ui.showSnack("Syncing Stream...","Please Wait"),this.syncStatus=!1,this.cd.detectChanges(),setTimeout((function(){e.syncMoreWorker()}),3e3);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"open",value:function(t){this.popupRef.push(this.dialog.open(t,{context:"this is some additional data passed to dialog"}))}},{key:"closePopup",value:function(){console.log("close toggled"),this.popupRef[this.popupRef.length-1].close(),this.popupRef.pop()}}]),t}(),pe.\u0275fac=function(t){return new(t||pe)(l.Sb(F.b),l.Sb(p.l),l.Sb(l.h),l.Sb(d.a))},pe.\u0275cmp=l.Mb({type:pe,selectors:[["app-social-stream"]],viewQuery:function(t,e){var n;1&t&&(l.Mc(Ht,!0),l.Mc(Wt,!0)),2&t&&(l.uc(n=l.gc())&&(e.qrPop=n.first),l.uc(n=l.gc())&&(e.createPop=n.first))},inputs:{initRnd:"initRnd",buttonTitle:"buttonTitle",groupedTimeline:"groupedTimeline"},features:[l.Db],decls:9,vars:5,consts:[[1,"search"],[1,"message-row"],[2,"width","100%"],["fullWidth","","nbInput","","type","text",1,"mat-elevation-z16",3,"ngModel","placeholder","ngModelChange","focus","blur","mouseenter","mouseleave","keyup.enter","keyup","click"],["nbSuffix","","nbButton","","ghost","",1,"searchButtonWrapper",3,"click"],["class","searchButton","icon","search-outline",4,"ngIf","ngIfElse"],["title",""],["class","postViewer",4,"ngIf"],["icon","search-outline",1,"searchButton"],[1,"postViewer"],[3,"combinedTimeline","isMyProfile",4,"ngFor","ngForOf"],["class","fundUs",3,"click",4,"ngIf"],["class","fundUs","style","margin-top: 40vh;",4,"ngIf"],[3,"combinedTimeline","isMyProfile"],[1,"fundUs",3,"click"],["mat-stroked-button","","color","secondary",1,"mat-elevation-z18","defaultSettingsButton","noOutlineButton","fundButton"],[1,"fundUs",2,"margin-top","40vh"],["target","_blank",1,"mat-elevation-z18"],["mat-stroked-button","","color","secondary",1,"defaultSettingsButton","noOutlineButton","fundButton"]],template:function(t,e){if(1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"input",3),l.fc("ngModelChange",(function(t){return e.searchPhrase=t}))("focus",(function(){return e.inputFocus=!0}))("blur",(function(){return e.inputFocus=!1}))("mouseenter",(function(){return e.inputHover=!0}))("mouseleave",(function(){return e.inputHover=!1}))("keyup.enter",(function(){return e.search()}))("keyup",(function(){return e.parseSearchBar()}))("click",(function(){return e.searchBarClicked()})),l.Xb(),l.Yb(4,"button",4),l.fc("click",(function(){return e.search()})),l.Gc(5,Zt,1,0,"nb-icon",5),l.Gc(6,Ut,1,1,"ng-template",null,6,l.Hc),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Gc(8,te,4,3,"div",7)),2&t){var n=l.vc(7);l.Fb(3),l.qc("placeholder","What are you looking for?"),l.pc("ngModel",e.searchPhrase),l.Fb(2),l.pc("ngIf",!e.buttonTitle)("ngIfElse",n),l.Fb(3),l.pc("ngIf",e.syncStatus)}},directives:[S.b,S.j,S.m,p.E,u.m,p.o,u.l,ct,g.a],styles:[".browse-files-button[_ngcontent-%COMP%]{border-radius:3px;padding:5px;color:purple}.importButton[_ngcontent-%COMP%]{color:purple!important}.captchaScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%]{background-color:#222b45;padding:20px;text-align:center}.captchaScreen[_ngcontent-%COMP%], .captchaScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .chatScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.poster[_ngcontent-%COMP%]{height:30vh;background-color:#111161}.verifyButton[_ngcontent-%COMP%]{margin-right:70px!important}.pp[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;position:relative;left:30px;top:-30px;z-index:1}.pp[_ngcontent-%COMP%], .pp[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:60px}.name[_ngcontent-%COMP%]{white-space:nowrap}.alias[_ngcontent-%COMP%]{font-size:24px}.alias[_ngcontent-%COMP%], .fullname[_ngcontent-%COMP%]{white-space:nowrap;float:left}.fullname[_ngcontent-%COMP%]{margin-left:20px;opacity:.5}.about[_ngcontent-%COMP%]{clear:both;padding-top:30px;padding-right:20px}.details[_ngcontent-%COMP%]{overflow:hidden;background:#2d2b2b;color:#fff;padding-left:20px;font-size:20px;padding-top:60px;z-index:0;padding-bottom:50px;margin-top:-60px;margin-bottom:42px;color:#6d95ce;z-index:11;background:#151b2e;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471))}.editButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:20px;margin-top:-15px}.discardButton[_ngcontent-%COMP%], .saveButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:23px}.fundButton[_ngcontent-%COMP%]{background:#bfbf13!important;font-size:16px!important}.profilePrivacy[_ngcontent-%COMP%]{position:absolute;font-size:19px;right:22px;background:#eed864;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:20px}.profilePrivacy[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}@media only screen and (max-width:600px){.fullname[_ngcontent-%COMP%]{clear:both;margin-left:0}}input[_ngcontent-%COMP%]{caret-color:#fff}.pubKeyDisplay[_ngcontent-%COMP%]{left:99px;right:8px;line-height:7px;font-size:7px;font-family:MONOSPACE;word-break:break-all;overflow:hidden;color:rgba(211,166,65,.25098039215686274)!important;z-index:9999;top:-45px;cursor:pointer;margin-top:-53px;margin-bottom:23px;margin-left:78px}@media only screen and (max-width:807px){.pubKeyDisplay[_ngcontent-%COMP%]{max-height:20px;text-overflow:ellipsis;line-height:10px;font-size:10px;font-family:MONOSPACE;word-break:break-all;overflow:hidden}.editButton[_ngcontent-%COMP%]{margin-top:-9px}}.starButton[_ngcontent-%COMP%]{color:rgba(42,68,120,.5098039215686274);border:0 solid transparent!important}.starButton[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}.starButton[_ngcontent-%COMP%]:hover{color:rgba(37,109,255,.5607843137254902)}.starButton.active[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.starButton.active[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.starButton.pending[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.search[_ngcontent-%COMP%]{z-index:2;right:0;left:0;padding:20px;height:95px;bottom:28px;position:absolute;top:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Ubuntu;position:absolute;letter-spacing:1px;color:rgba(241,237,205,.8196078431372549);padding:10px 10px 10px 26px;font-size:16px;left:5%;width:90%;font-weight:500!important}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid red}.search[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:rgba(41,104,245,.8313725490196079)}.pp[_ngcontent-%COMP%]{z-index:12}.fundUs[_ngcontent-%COMP%]{z-index:2;width:100%;margin-bottom:120px;text-align:center;margin-top:38px}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;height:40px;width:40px;border:0;color:#7b9cc3;padding-right:8px;width:50px;position:absolute;top:19px;right:5%}.search[_ngcontent-%COMP%]   .searchButton[_ngcontent-%COMP%]:focus, .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%]:focus{outline:none!important;border:0!important;box-shadow:none!important}.results[_ngcontent-%COMP%]{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.59));font-family:Ubuntu;overflow:hidden;overflow-y:auto;position:absolute;left:0;right:0;bottom:27px;top:0}.resultCardWrapper[_ngcontent-%COMP%]{padding:20px 4% 20px 5%}.resultCardWrapper[_ngcontent-%COMP%]:first-child{padding-top:60px;padding-bottom:20px}.resultCardWrapper[_ngcontent-%COMP%]:last-child{padding-bottom:120px}.searchResultAlias[_ngcontent-%COMP%]{font-size:18px}.searchResultPp[_ngcontent-%COMP%], .searchResultPpImg[_ngcontent-%COMP%]{height:100px}.searchResultColumn[_ngcontent-%COMP%]{color:#4f84e2;padding:10px 10px 10px 20px}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:none;color:#4f84e2;margin-top:7px}.searchResultAboutWrapper[_ngcontent-%COMP%]{width:100%}.resultCard[_ngcontent-%COMP%]{border-radius:5px;flex-direction:row;box-sizing:border-box;display:flex;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));background:linear-gradient(90deg,#192752,rgba(16,22,41,.5882352941176471));overflow:hidden;cursor:pointer;border:1px solid transparent}.resultCard[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));overflow:hidden;border:1px solid red}.searchResultFullName[_ngcontent-%COMP%]{color:rgba(79,132,226,.5411764705882353)}@media only screen and (max-width:816px){.searchResultColumn[_ngcontent-%COMP%]{padding-left:10px}.searchResultConnection.searchResultColumn[_ngcontent-%COMP%]{display:none}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:block}.resultCard[_ngcontent-%COMP%]{flex-flow:row wrap}}.postButton[_ngcontent-%COMP%]{color:rgba(198,196,137,.7803921568627451);font-family:Ubuntu;font-size:16px;margin-top:4vh;border:2px solid rgba(157,175,170,.7490196078431373)}.postDelete[_ngcontent-%COMP%]{float:right;color:rgba(255,0,0,.8117647058823529);margin-left:10px;font-size:20px;position:relative;top:-1px;cursor:pointer}.postTime[_ngcontent-%COMP%]{float:right;color:#452781}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ff0045}.mat-input-element[_ngcontent-%COMP%]{caret-color:#546184;text-align:left;border:1px solid transparent;border-radius:5px;padding:10px}.mat-input-element[_ngcontent-%COMP%]:focus{border:1px solid red}.mat-input-element[_ngcontent-%COMP%]::-moz-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]::placeholder:focus{display:none}.emojiPickerTrigger[_ngcontent-%COMP%]{opacity:1;z-index:9;padding:8px;margin-right:10px;cursor:pointer;right:0;position:relative;top:3px}.emojiPicker[_ngcontent-%COMP%]{z-index:222222!important;position:relative;right:70px;background:transparent}  nb-popover{background:transparent!important}@media only screen and (max-width:616px){.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{margin-left:0;margin-right:0!important;margin-top:0;border:0!important;margin-bottom:15px;border-radius:0;border-top:1px solid #40389e!important;border-bottom:1px solid #423193!important;width:100vw}.postContainer[_ngcontent-%COMP%]:last-child{margin-bottom:40px}}.emojiPicker[_ngcontent-%COMP%]{right:60px}@media only screen and (min-width:420px) and (max-width:480px){.emojiPicker[_ngcontent-%COMP%]{right:-40px}}@media only screen and (min-width:480px) and (max-width:900px){.emojiPicker[_ngcontent-%COMP%]{right:0}}.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);margin-left:5vw;border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;margin-right:5vw;text-align:right;margin-bottom:5vh;border:1px solid rgba(255,0,0,.25882352941176473);display:block}.postContainer[_ngcontent-%COMP%]{text-align:left;border:1px solid rgba(45,99,236,.6509803921568628);border-radius:0;margin-top:-56px}.postContainer.level-0[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:0}.postOuterWrapper[_ngcontent-%COMP%]:last-child   .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;margin-top:-56px}.postContainer.reply[_ngcontent-%COMP%]{border-left:8px solid;border-right:8px solid;border-top:1px solid;position:relative;margin:-17px 6vw 0;top:22px}.postContainer.singleLevel[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:20px;border-radius:10px!important}.postContainer.singleLevel.replyPost[_ngcontent-%COMP%]{margin-top:0!important;border-radius:10px!important}.replyLoop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.replyLoop[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:30px}.replyLoop[_ngcontent-%COMP%]:last-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px}.combinedTimeline[_ngcontent-%COMP%]:nth-child(2){margin-top:120px}.postViewer[_ngcontent-%COMP%]{position:absolute;left:0;top:20px;right:0;bottom:77px;overflow:hidden;overflow-y:auto;padding-top:20px}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:rgba(78,132,229,.5607843137254902)}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(78,132,229,.5607843137254902);outline:0}"]}),pe)},{path:"timeline/post/:qHash",component:(le=function(){function t(e,n,o,r,a){i(this,t),this.route=e,this._sanitizer=n,this.dialog=o,this.cd=r,this.q=a,this.pubKey="NoProfileSelected",this.postList=[],this.DEVMODE=w.dev,this.buttonTitle="",this.qHash="",this.status="",this.inputFocus=!1,this.inputHover=!1,this.searchPhrase="",this.searchResults=[],this.searchResultsActive=!1,this.noProfileSelected="NoProfileSelected",this.replies=[],this.groupedTimeline=[],this.syncStatus=!1,this.syncingStatus=!1,this.popupRef=[]}return a(t,[{key:"parseSearchBar",value:function(){}},{key:"search",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}},{key:"updateListen",value:function(){var t=this;this.syncingStatus=!1,console.log("QD Social Timeline Post: Subscribing To Sync..",this.qHash),void 0!==this.syncSub&&this.syncSub.unsubscribe(),this.syncSub=this.q.os.social.timeline.agent.onSync("all").subscribe((function(n){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var o,i,r,a,c,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(n.timeline),this.groupedTimeline=[],this.replies=[],o=[],i=n.timeline,r=e(i);try{for(r.s();!(a=r.n()).done;)(c=a.value).replyTo!=this.qHash||this.q.os.utilities.inArray(o,c.qHash)||(this.replies.push(c),o.push(c.qHash)),c.qHash==this.qHash&&(this.groupedTimeline=[[c]])}catch(l){r.e(l)}finally{r.f()}this.syncingStatus=!0,this.q.os.ui.showSnack("Replies Synced!","Yeah",{duration:2e3}),console.log("QD Social Timeline Post View: Replies Synced!"),this.cd.detectChanges(),setTimeout((function(){s.cd.detectChanges()}),2e3),setTimeout((function(){s.cd.detectChanges()}),6e3),setTimeout((function(){s.cd.detectChanges()}),1e4),setTimeout((function(){s.cd.detectChanges()}),15e3)}catch(p){console.log(p)}case 1:case"end":return t.stop()}}),t,this)})))}))}},{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.updateListen(),this.paramSub=this.route.params.subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this.qHash=t.qHash,this.ngOnChanges();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnChanges",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.q.os.ui.showSnack("Syncing Replies...","Please Wait"),t.next=3,this.q.os.social.timeline.agent.sync("all",{limit:0});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){this.paramSub.unsubscribe(),void 0!==this.syncSub&&this.syncSub.unsubscribe()}},{key:"searchBarClicked",value:function(){}},{key:"open",value:function(t){this.popupRef.push(this.dialog.open(t,{context:"this is some additional data passed to dialog"}))}},{key:"closePopup",value:function(){console.log("close toggled"),this.popupRef[this.popupRef.length-1].close(),this.popupRef.pop()}}]),t}(),le.\u0275fac=function(t){return new(t||le)(l.Sb(c.a),l.Sb(F.b),l.Sb(p.l),l.Sb(l.h),l.Sb(d.a))},le.\u0275cmp=l.Mb({type:le,selectors:[["social-timeline-post"]],viewQuery:function(t,e){var n;1&t&&(l.Mc(ee,!0),l.Mc(ne,!0)),2&t&&(l.uc(n=l.gc())&&(e.qrPop=n.first),l.uc(n=l.gc())&&(e.createPop=n.first))},inputs:{buttonTitle:"buttonTitle",qHash:"qHash"},features:[l.Db],decls:12,vars:7,consts:[[1,"search"],[1,"message-row"],[2,"width","100%"],["fullWidth","","nbInput","","type","text",1,"mat-elevation-z16",3,"ngModel","placeholder","ngModelChange","focus","blur","mouseenter","mouseleave","keyup.enter","keyup","click"],["nbSuffix","","nbButton","","ghost","",1,"searchButtonWrapper",3,"click"],["class","searchButton","icon","search-outline",4,"ngIf","ngIfElse"],["title",""],[1,"postViewer"],[3,"combinedTimeline",4,"ngFor","ngForOf"],["class","repliesHeader",4,"ngIf"],["class","postOuterWrapper replyOuterWrapper",4,"ngFor","ngForOf"],["icon","search-outline",1,"searchButton"],[3,"combinedTimeline"],[1,"repliesHeader"],["icon","message-square-outline",1,"repliesIcon"],[1,"postOuterWrapper","replyOuterWrapper"],["class","postWrapper",4,"ngIf"],[1,"postWrapper"],[1,"postContainer","mat-elevation-z8","post","singleLevel",3,"postObj","isMyProfile"]],template:function(t,e){if(1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"input",3),l.fc("ngModelChange",(function(t){return e.searchPhrase=t}))("focus",(function(){return e.inputFocus=!0}))("blur",(function(){return e.inputFocus=!1}))("mouseenter",(function(){return e.inputHover=!0}))("mouseleave",(function(){return e.inputHover=!1}))("keyup.enter",(function(){return e.search()}))("keyup",(function(){return e.parseSearchBar()}))("click",(function(){return e.searchBarClicked()})),l.Xb(),l.Yb(4,"button",4),l.fc("click",(function(){return e.search()})),l.Gc(5,oe,1,0,"nb-icon",5),l.Gc(6,ie,1,1,"ng-template",null,6,l.Hc),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(8,"div",7),l.Gc(9,re,1,1,"social-timeline-post-combined-timeline",8),l.Gc(10,ae,2,0,"div",9),l.Gc(11,se,2,1,"div",10),l.Xb()),2&t){var n=l.vc(7);l.Fb(3),l.qc("placeholder","What are you looking for?"),l.pc("ngModel",e.searchPhrase),l.Fb(2),l.pc("ngIf",!e.buttonTitle)("ngIfElse",n),l.Fb(4),l.pc("ngForOf",e.groupedTimeline),l.Fb(1),l.pc("ngIf",null!=e.replies&&e.replies.length>0),l.Fb(1),l.pc("ngForOf",e.replies)}},directives:[S.b,S.j,S.m,p.E,u.m,u.l,p.o,ct,J],styles:[".browse-files-button[_ngcontent-%COMP%]{border-radius:3px;padding:5px;color:purple}.importButton[_ngcontent-%COMP%]{color:purple!important}.captchaScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%]{background-color:#222b45;padding:20px;text-align:center}.captchaScreen[_ngcontent-%COMP%], .captchaScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .chatScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%], .inviteScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%], .joinScreen[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}.poster[_ngcontent-%COMP%]{height:30vh;background-color:#111161}.verifyButton[_ngcontent-%COMP%]{margin-right:70px!important}.pp[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;position:relative;left:30px;top:-30px;z-index:1}.pp[_ngcontent-%COMP%], .pp[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:60px;height:60px}.name[_ngcontent-%COMP%]{white-space:nowrap}.alias[_ngcontent-%COMP%]{font-size:24px}.alias[_ngcontent-%COMP%], .fullname[_ngcontent-%COMP%]{white-space:nowrap;float:left}.fullname[_ngcontent-%COMP%]{margin-left:20px;opacity:.5}.about[_ngcontent-%COMP%]{clear:both;padding-top:30px;padding-right:20px}.details[_ngcontent-%COMP%]{overflow:hidden;background:#2d2b2b;color:#fff;padding-left:20px;font-size:20px;padding-top:60px;z-index:0;padding-bottom:50px;margin-top:-60px;margin-bottom:42px;color:#6d95ce;z-index:11;background:#151b2e;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471))}.editButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:20px;margin-top:-15px}.discardButton[_ngcontent-%COMP%], .saveButton[_ngcontent-%COMP%]{font-size:20px;z-index:1;float:right;margin-right:23px}.fundButton[_ngcontent-%COMP%]{background:#bfbf13!important;font-size:16px!important}.profilePrivacy[_ngcontent-%COMP%]{position:absolute;font-size:19px;right:22px;background:#eed864;font-weight:700;border-radius:4px;color:rgba(39,105,247,.7803921568627451);font-family:Ubuntu;line-height:30px;padding:3px 10px;cursor:pointer;top:20px}.profilePrivacy[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:24px;opacity:.7;position:relative;top:2px}@media only screen and (max-width:600px){.fullname[_ngcontent-%COMP%]{clear:both;margin-left:0}}input[_ngcontent-%COMP%]{caret-color:#fff}.pubKeyDisplay[_ngcontent-%COMP%]{left:99px;right:8px;line-height:7px;font-size:7px;font-family:MONOSPACE;word-break:break-all;overflow:hidden;color:rgba(211,166,65,.25098039215686274)!important;z-index:9999;top:-45px;cursor:pointer;margin-top:-53px;margin-bottom:23px;margin-left:78px}@media only screen and (max-width:807px){.pubKeyDisplay[_ngcontent-%COMP%]{max-height:20px;text-overflow:ellipsis;line-height:10px;font-size:10px;font-family:MONOSPACE;word-break:break-all;overflow:hidden}.editButton[_ngcontent-%COMP%]{margin-top:-9px}}.starButton[_ngcontent-%COMP%]{color:rgba(42,68,120,.5098039215686274);border:0 solid transparent!important}.starButton[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2.5rem}.starButton[_ngcontent-%COMP%]:hover{color:rgba(37,109,255,.5607843137254902)}.starButton.active[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.starButton.active[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.starButton.pending[_ngcontent-%COMP%]{color:#256dff;border:0 solid transparent!important;font-size:2.5rem}.search[_ngcontent-%COMP%]{z-index:2;right:0;left:0;padding:20px;height:95px;bottom:28px;position:absolute;top:0}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Ubuntu;position:absolute;letter-spacing:1px;color:rgba(241,237,205,.8196078431372549);padding:10px 10px 10px 26px;font-size:16px;left:5%;width:90%;font-weight:500!important}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid red}.search[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:rgba(41,104,245,.8313725490196079)}.pp[_ngcontent-%COMP%]{z-index:12}.fundUs[_ngcontent-%COMP%]{z-index:2;width:100%;margin-bottom:120px;text-align:center;margin-top:38px}.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;height:40px;width:40px;border:0;color:#7b9cc3;padding-right:8px;width:50px;position:absolute;top:19px;right:5%}.search[_ngcontent-%COMP%]   .searchButton[_ngcontent-%COMP%]:focus, .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .searchButtonWrapper[_ngcontent-%COMP%]:focus{outline:none!important;border:0!important;box-shadow:none!important}.results[_ngcontent-%COMP%]{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.59));font-family:Ubuntu;overflow:hidden;overflow-y:auto;position:absolute;left:0;right:0;bottom:27px;top:0}.resultCardWrapper[_ngcontent-%COMP%]{padding:20px 4% 20px 5%}.resultCardWrapper[_ngcontent-%COMP%]:first-child{padding-top:60px;padding-bottom:20px}.resultCardWrapper[_ngcontent-%COMP%]:last-child{padding-bottom:120px}.searchResultAlias[_ngcontent-%COMP%]{font-size:18px}.searchResultPp[_ngcontent-%COMP%], .searchResultPpImg[_ngcontent-%COMP%]{height:100px}.searchResultColumn[_ngcontent-%COMP%]{color:#4f84e2;padding:10px 10px 10px 20px}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:none;color:#4f84e2;margin-top:7px}.searchResultAboutWrapper[_ngcontent-%COMP%]{width:100%}.resultCard[_ngcontent-%COMP%]{border-radius:5px;flex-direction:row;box-sizing:border-box;display:flex;background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));background:linear-gradient(90deg,#192752,rgba(16,22,41,.5882352941176471));overflow:hidden;cursor:pointer;border:1px solid transparent}.resultCard[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#151b2e,rgba(16,22,41,.5882352941176471));overflow:hidden;border:1px solid red}.searchResultFullName[_ngcontent-%COMP%]{color:rgba(79,132,226,.5411764705882353)}@media only screen and (max-width:816px){.searchResultColumn[_ngcontent-%COMP%]{padding-left:10px}.searchResultConnection.searchResultColumn[_ngcontent-%COMP%]{display:none}.searchResultConnection.topCorner[_ngcontent-%COMP%]{display:block}.resultCard[_ngcontent-%COMP%]{flex-flow:row wrap}}.postButton[_ngcontent-%COMP%]{color:rgba(198,196,137,.7803921568627451);font-family:Ubuntu;font-size:16px;margin-top:4vh;border:2px solid rgba(157,175,170,.7490196078431373)}.postDelete[_ngcontent-%COMP%]{float:right;color:rgba(255,0,0,.8117647058823529);margin-left:10px;font-size:20px;position:relative;top:-1px;cursor:pointer}.postTime[_ngcontent-%COMP%]{float:right;color:#452781}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#ff0045}.newPostContainer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#ff0045}.mat-input-element[_ngcontent-%COMP%]{caret-color:#546184;text-align:left;border:1px solid transparent;border-radius:5px;padding:10px}.mat-input-element[_ngcontent-%COMP%]:focus{border:1px solid red}.mat-input-element[_ngcontent-%COMP%]::-moz-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder:focus{display:none}.mat-input-element[_ngcontent-%COMP%]::placeholder:focus{display:none}.emojiPickerTrigger[_ngcontent-%COMP%]{opacity:1;z-index:9;padding:8px;margin-right:10px;cursor:pointer;right:0;position:relative;top:3px}.emojiPicker[_ngcontent-%COMP%]{z-index:222222!important;position:relative;right:70px;background:transparent}  nb-popover{background:transparent!important}@media only screen and (max-width:616px){.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{margin-left:0;margin-right:0!important;margin-top:0;border:0!important;margin-bottom:15px;border-radius:0;border-top:1px solid #40389e!important;border-bottom:1px solid #423193!important;width:100vw}.postContainer[_ngcontent-%COMP%]:last-child{margin-bottom:40px}}.emojiPicker[_ngcontent-%COMP%]{right:60px}@media only screen and (min-width:420px) and (max-width:480px){.emojiPicker[_ngcontent-%COMP%]{right:-40px}}@media only screen and (min-width:480px) and (max-width:900px){.emojiPicker[_ngcontent-%COMP%]{right:0}}.newPostContainer[_ngcontent-%COMP%], .postContainer[_ngcontent-%COMP%]{background:rgba(30,36,55,.788235294117647);margin-left:5vw;border-radius:10px;padding:40px;opacity:.9;font-family:Ubuntu;font-size:22px;color:#4680e9;margin-right:5vw;text-align:right;margin-bottom:5vh;border:1px solid rgba(255,0,0,.25882352941176473);display:block}.postContainer[_ngcontent-%COMP%]{text-align:left;border:1px solid rgba(45,99,236,.6509803921568628);border-radius:0;margin-top:-56px}.postContainer.level-0[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:0}.postOuterWrapper[_ngcontent-%COMP%]:last-child   .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px;margin-top:-56px}.postContainer.reply[_ngcontent-%COMP%]{border-left:8px solid;border-right:8px solid;border-top:1px solid;position:relative;margin:-17px 6vw 0;top:22px}.postContainer.singleLevel[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:20px;border-radius:10px!important}.postContainer.singleLevel.replyPost[_ngcontent-%COMP%]{margin-top:0!important;border-radius:10px!important}.replyLoop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.replyLoop[_ngcontent-%COMP%]:first-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;margin-top:30px}.replyLoop[_ngcontent-%COMP%]:last-child > div[_ngcontent-%COMP%] > .postContainer[_ngcontent-%COMP%]{border-bottom-left-radius:10px;border-bottom-right-radius:10px}.combinedTimeline[_ngcontent-%COMP%]:nth-child(2){margin-top:120px}.repliesHeader[_ngcontent-%COMP%]{margin:20px;text-align:center}.repliesIcon[_ngcontent-%COMP%]{color:#7d9dc3;font-size:26px;margin:40px 20px 20px}.syncingButton.false[_ngcontent-%COMP%]{margin-top:0}.replyOuterWrapper[_ngcontent-%COMP%]:last-child{margin-bottom:120px}.postViewer[_ngcontent-%COMP%]{position:absolute;left:0;top:20px;right:0;bottom:77px;overflow:hidden;padding-top:22px;overflow-y:auto}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:rgba(78,132,229,.5607843137254902)}.postViewer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(78,132,229,.5607843137254902);outline:0}"],changeDetection:0}),le)}]}],he=((de=function t(){i(this,t)}).\u0275mod=l.Qb({type:de}),de.\u0275inj=l.Pb({factory:function(t){return new(t||de)},imports:[[c.g.forChild(ge)],c.g]}),de),be=o("UXJo"),fe=o("kmnG"),me=o("5RNC"),ve=o("Wp6s"),xe=o("d3UM"),Ce=o("bSwM"),Pe=o("STbY"),Oe=o("8yBR"),Me=o("YUcS"),ye=o("6NWb"),ke=o("5+WD"),_e=o("f6nW"),we=o("FvrZ"),Fe=o("tk/3"),Se=o("NFeN"),je=o("tR1z"),Be=((ue=function t(){i(this,t)}).\u0275mod=l.Qb({type:ue,bootstrap:[y]}),ue.\u0275inj=l.Pb({factory:function(t){return new(t||ue)},providers:[p.l],imports:[[p.C,_e.p,we.d,p.x,be.b,Fe.b,ve.a,xe.b,g.b,Ce.a,Pe.c,u.c,he,ye.a,p.J,p.v,p.h,p.I,je.a,p.q,p.n,S.f,p.j,p.k.forRoot(),p.g,Oe.d,ke.c,g.b,Ce.a,B.b,fe.d,j.b,me.a,Me.a,Se.b,z.a,I.b,R.b,p.A],_e.p,fe.d,xe.b,Oe.d,Pe.c]}),ue)},ZREu:function(t){t.exports=JSON.parse('{"dev":false}')},zVjI:function(n,o,r){"use strict";(function(n){r.d(o,"a",(function(){return et}));var c=r("n2fA"),s=r("FQBZ"),l=r("ZREu"),p=r("2Vo4"),d=r("0EQZ"),u=r("FvrZ"),g=r("8yBR"),h=r("STbY"),b=r("fXoL"),f=r("tyNb"),m=r("Witw"),v=r("aceb"),x=r("gvxT"),C=r("kmnG"),P=r("qFsG"),O=r("ofXK"),M=r("d3UM"),y=r("3Pt+"),k=r("bTqV"),_=r("FKr1"),w=r("IyRd"),F=r("znSr"),S=r("NFeN"),j=["emptyItem"],B=["qrPop"],I=["createPop"],R=["newFavoriteFolder"];function z(t,e){if(1&t&&(b.Yb(0,"mat-option",24),b.Ic(1),b.Xb()),2&t){var n=e.$implicit;b.pc("value",n.id),b.Fb(1),b.Kc(" ",n.data.name," ")}}function T(t,e){if(1&t){var n=b.Zb();b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Ic(2,"Create Channel"),b.Xb(),b.Yb(3,"nb-card-body",16),b.Yb(4,"div",17),b.Ic(5," Folder: "),b.Yb(6,"mat-select",18),b.fc("valueChange",(function(t){return b.xc(n),b.jc().newChannelFolder=t}))("selectionChange",(function(t){return b.xc(n),b.jc().newChannelFolderChanged(t.value)})),b.Gc(7,z,2,2,"mat-option",19),b.Xb(),b.Xb(),b.Yb(8,"div",20),b.Yb(9,"input",21),b.fc("ngModelChange",(function(t){return b.xc(n),b.jc().newChannelName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(10,"nb-card-footer"),b.Yb(11,"button",22),b.fc("click",(function(){b.xc(n);var t=b.jc();return t.createNewChannel(t.newChannelName)})),b.Ic(12,"Create"),b.Xb(),b.Yb(13,"button",23),b.fc("click",(function(){return b.xc(n),b.jc().closePopup()})),b.Ic(14,"Cancel"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc();b.Fb(6),b.pc("value",o.newChannelFolder),b.Fb(1),b.pc("ngForOf",o.channelFolderListArray),b.Fb(2),b.pc("ngModel",o.newChannelName)}}function q(t,e){if(1&t){var n=b.Zb();b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Ic(2,"Scan QR"),b.Xb(),b.Yb(3,"nb-card-body",16),b.Yb(4,"div",25),b.Yb(5,"zxing-scanner",26),b.fc("deviceChange",(function(t){return b.xc(n),b.jc().currentDevice=t}))("scanSuccess",(function(t){return b.xc(n),b.jc().qrSuccessHandler(t)}))("permissionResponse",(function(t){return b.xc(n),b.jc().onHasPermission(t)}))("camerasFound",(function(t){return b.xc(n),b.jc().onCamerasFound(t)}))("torchCompatible",(function(t){return b.xc(n),b.jc().onTorchCompatible(t)})),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"nb-card-footer"),b.Yb(7,"button",23),b.fc("click",(function(){return b.xc(n),b.jc().closeQR()})),b.Ic(8,"Cancel"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc();b.Fb(5),b.pc("torch",o.torchEnabled)("device",o.currentDevice)("formats",o.formatsEnabled)("tryHarder",o.tryHarder)}}function N(t,e){if(1&t&&(b.Yb(0,"mat-option",24),b.Ic(1),b.Xb()),2&t){var n=e.$implicit;b.pc("value",n.id),b.Fb(1),b.Kc(" ",n.data.name," ")}}function Y(t,e){if(1&t){var n=b.Zb();b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Ic(2,"Join Channel"),b.Xb(),b.Yb(3,"nb-card-body",16),b.Yb(4,"div",17),b.Ic(5," Import Folder Structure: "),b.Yb(6,"mat-form-field",27),b.Yb(7,"mat-select",28),b.fc("valueChange",(function(t){return b.xc(n),b.jc().importFolderStructure=t}))("selectionChange",(function(t){return b.xc(n),b.jc().newInviteImportFoldersChanged(t.value)})),b.Yb(8,"mat-option",24),b.Ic(9," On "),b.Xb(),b.Yb(10,"mat-option",24),b.Ic(11," Off "),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"div",17),b.Ic(13," Place Into Folder: "),b.Yb(14,"mat-select",18),b.fc("valueChange",(function(t){return b.xc(n),b.jc().newChannelFolder=t}))("selectionChange",(function(t){return b.xc(n),b.jc().newChannelFolderChanged(t.value)})),b.Gc(15,N,2,2,"mat-option",19),b.Xb(),b.Xb(),b.Yb(16,"div",20),b.Yb(17,"input",29),b.fc("ngModelChange",(function(t){return b.xc(n),b.jc().inviteCodeHex=t})),b.Xb(),b.Yb(18,"nb-icon",30),b.fc("click",(function(){return b.xc(n),b.jc().scanQR()})),b.Xb(),b.Xb(),b.Xb(),b.Yb(19,"nb-card-footer"),b.Yb(20,"button",22),b.fc("click",(function(){b.xc(n);var t=b.jc();return t.importNewChannel(t.inviteCode)})),b.Ic(21,"Join"),b.Xb(),b.Yb(22,"button",23),b.fc("click",(function(){return b.xc(n),b.jc().closePopup()})),b.Ic(23,"Cancel"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc();b.Fb(7),b.pc("value",o.importFolderStructure),b.Fb(1),b.pc("value",1),b.Fb(2),b.pc("value",0),b.Fb(4),b.pc("value",o.newChannelFolder),b.Fb(1),b.pc("ngForOf",o.channelFolderListArray),b.Fb(2),b.pc("ngModel",o.inviteCodeHex)}}function X(t,e){if(1&t&&(b.Yb(0,"mat-option",24),b.Ic(1),b.Xb()),2&t){var n=e.$implicit;b.pc("value",n.id),b.Fb(1),b.Kc(" ",n.data.name," ")}}function A(t,e){if(1&t){var n=b.Zb();b.Yb(0,"nb-card"),b.Yb(1,"nb-card-header"),b.Ic(2,"New Favorite Folder"),b.Xb(),b.Yb(3,"nb-card-body",16),b.Yb(4,"div",17),b.Ic(5," Folder: "),b.Yb(6,"mat-select",18),b.fc("valueChange",(function(t){return b.xc(n),b.jc().newFavoriteFolderId=t}))("selectionChange",(function(t){return b.xc(n),b.jc().newFavoriteFolderChanged(t.value)})),b.Gc(7,X,2,2,"mat-option",19),b.Xb(),b.Xb(),b.Yb(8,"div",20),b.Yb(9,"input",31),b.fc("ngModelChange",(function(t){return b.xc(n),b.jc().newFavoriteFolderName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(10,"nb-card-footer"),b.Yb(11,"button",22),b.fc("click",(function(){b.xc(n);var t=b.jc();return t.createNewFavoriteFolder(t.newFavoriteFolderName)})),b.Ic(12,"Create"),b.Xb(),b.Yb(13,"button",23),b.fc("click",(function(){return b.xc(n),b.jc().closePopup()})),b.Ic(14,"Cancel"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc();b.Fb(6),b.pc("value",o.newFavoriteFolderId),b.Fb(1),b.pc("ngForOf",o.favoriteFolderListArray),b.Fb(2),b.pc("ngModel",o.newFavoriteFolderName)}}function L(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",36),b.fc("click",(function(){b.xc(n);var t=b.jc().$implicit;return b.jc().goToProfile(t.pubKey)})),b.Ic(1),b.Xb()}if(2&t){var o=b.jc().$implicit,i=b.jc();b.Fb(1),b.Kc(" ",i.getAliasFromDirectChannel(o.channel),"")}}function D(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",36),b.fc("click",(function(){b.xc(n);var t=b.jc().$implicit;return b.jc().goToProfile(t.pubKey)})),b.Ic(1," Unknown"),b.Xb()}}function E(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",32),b.Gc(1,L,2,1,"div",33),b.Gc(2,D,2,0,"div",33),b.Yb(3,"nb-icon",34),b.fc("click",(function(){b.xc(n);var t=e.$implicit;return b.jc().rejectRequest(t.pubKey)})),b.Xb(),b.Yb(4,"nb-icon",35),b.fc("click",(function(){b.xc(n);var t=e.$implicit;return b.jc().importNewChannel(t.invite)})),b.Xb(),b.Xb()}if(2&t){var o=e.$implicit,i=b.jc();b.Fb(1),b.pc("ngIf",i.getAliasFromDirectChannel(o.channel).indexOf("qprivatedch")<0),b.Fb(1),b.pc("ngIf",i.getAliasFromDirectChannel(o.channel).indexOf("qprivatedch")>-1)}}var K=function(){return["active-channel"]},V=function(t){return{"drag-start":t}};function G(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",40),b.fc("click",(function(){b.xc(n);var t=b.jc().$implicit;return b.jc().goToProfileByChannel(t.item)})),b.Tb(1,"nb-icon",41),b.Yb(2,"span",42),b.fc("dragstart",(function(t){b.xc(n);var e=b.jc().$implicit;return b.jc().handleDragStart(t,e)})),b.Yb(3,"span",43),b.Ic(4),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc().$implicit,i=b.jc();b.Ib("treeNodeContainerSingle ",o.item,""),b.pc("routerLinkActive",b.rc(6,K)),b.Fb(3),b.pc("ngClass",b.sc(7,V,i.dragNode===o)),b.Fb(1),b.Kc(" ",i.getAliasFromDirectChannel2(o.item)," ")}}function H(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",44),b.fc("click",(function(){b.xc(n);var t=b.jc().$implicit;return b.jc().goToChannel(t.item)})),b.Tb(1,"nb-icon",45),b.Yb(2,"span",42),b.fc("dragstart",(function(t){b.xc(n);var e=b.jc().$implicit;return b.jc().handleDragStart(t,e)})),b.Yb(3,"span",46),b.Ic(4," Unknown "),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=b.jc().$implicit,i=b.jc();b.Ib("treeNodeContainerSingle ",o.item,""),b.Fb(3),b.pc("ngClass",b.sc(4,V,i.dragNode===o))}}function W(t,e){if(1&t){var n=b.Zb();b.Yb(0,"mat-tree-node",37),b.fc("dragover",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDragOver(t,o)}))("dragend",(function(t){return b.xc(n),b.jc().handleDragEnd(t)}))("drop",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDrop(t,o)})),b.Gc(1,G,5,9,"div",38),b.Gc(2,H,5,6,"div",39),b.Xb()}if(2&t){var o=e.$implicit,i=b.jc();b.pc("ngClass",i.getStyle(o)),b.Fb(1),b.pc("ngIf",i.getAliasFromDirectChannel2(o.item).indexOf("qprivatedch")<0),b.Fb(1),b.pc("ngIf",i.getAliasFromDirectChannel2(o.item).indexOf("qprivatedch")>-1)}}function Z(t,e){if(1&t){var n=b.Zb();b.Yb(0,"mat-tree-node",47),b.fc("dragover",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDragOver(t,o)}))("dragend",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDragEnd(t,o)}))("drop",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDrop(t,o)})),b.Yb(1,"div",48),b.fc("contextmenu",(function(t){b.xc(n);var o=e.$implicit;return b.jc().onContextMenu(t,o.item)})),b.Yb(2,"button",49),b.Yb(3,"mat-icon",50),b.Ic(4),b.Xb(),b.Xb(),b.Tb(5,"nb-icon",51),b.Yb(6,"span",42),b.fc("dragstart",(function(t){b.xc(n);var o=e.$implicit;return b.jc().handleDragStart(t,o)})),b.Yb(7,"span",52),b.Ic(8),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var o=e.$implicit,i=b.jc();b.pc("ngClass",i.getStyle(o)),b.Fb(2),b.Gb("aria-label","toggle "+o.item),b.Fb(2),b.Kc(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),b.Fb(3),b.pc("ngClass",b.sc(5,V,i.dragNode===o)),b.Fb(1),b.Kc(" ",i.getFavoriteFolderNameFromId(o.item)," ")}}function U(t,e){if(1&t){var n=b.Zb();b.Yb(0,"button",53),b.fc("click",(function(){b.xc(n);var t=e.item;return b.jc().deleteFolder(t)})),b.Ic(1,"Delete"),b.Xb(),b.Yb(2,"button",53),b.fc("click",(function(){b.xc(n);var t=e.item;return b.jc().onContextMenuAction2(t)})),b.Ic(3,"Rename"),b.Xb()}}var $=function t(){i(this,t)},Q=function t(){i(this,t)},J={},tt=function(){var t=function(){function t(){i(this,t),this.dataChange=new p.a([]),this.initialize()}return a(t,[{key:"initialize",value:function(){this.buildFileTree(J,0)}},{key:"buildFileTree",value:function(t,e){var n=this;return Object.keys(t).reduce((function(o,i){var r=t[i],a=new $;return a.item=i,null!=r&&("object"==typeof r?a.children=n.buildFileTree(r,e+1):a.item=r),o.concat(a)}),[])}},{key:"insertItem",value:function(t,e){t.children||(t.children=[]);var n={item:e};return t.children.push(n),this.dataChange.next(this.data),n}},{key:"getParentFromNodes",value:function(t){for(var e=0;e<this.data.length;++e){var n=this.getParent(this.data[e],t);if(null!=n)return n}return null}},{key:"getParent",value:function(t,e){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;++n){var o=t.children[n];if(o===e)return t;if(o.children&&o.children.length>0){var i=this.getParent(o,e);if(null!=i)return i}}return null}},{key:"updateItem",value:function(t,e){t.item=e,this.dataChange.next(this.data)}},{key:"deleteItem",value:function(t){this.deleteNode(this.data,t),this.dataChange.next(this.data)}},{key:"copyPasteItem",value:function(t,e){var n=this,o=this.insertItem(e,t.item);return t.children&&t.children.forEach((function(t){n.copyPasteItem(t,o)})),o}},{key:"deleteNode",value:function(t,e){var n=this,o=t.indexOf(e,0);o>-1?t.splice(o,1):t.forEach((function(t){t.children&&t.children.length>0&&n.deleteNode(t.children,e)}))}},{key:"filter",value:function(t){var e;e=t&&t.length>0?{Filter:{emptyFolder:{}},Function:{emptyFolder:{}},Missing:{emptyFolder:{}}}:J;var n=this.buildFileTree(e,0);this.dataChange.next(n)}},{key:"setQOS",value:function(t){this.q=t}},{key:"data",get:function(){return this.dataChange.value}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac}),t}(),et=function(){var o=function(){function o(t,e,n,r,a,c,h,b){var f=this;i(this,o),this.router=t,this.ngZone=e,this.cd=n,this.database=r,this.ui=a,this.dialog=c,this.nbMenuService=h,this.q=b,this.contextMenuPosition={x:"0px",y:"0px"},this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new d.c(!0),this.dragNodeExpandOverWaitTimeMs=300,this.getLevel=function(t){return t.level},this.isExpandable=function(t){return t.expandable},this.getChildren=function(t){return t.children},this.hasChild=function(t,e){return e.expandable},this.hasNoContent=function(t,e){return""===e.item},this.transformer=function(t,e){var n=f.nestedNodeMap.get(t),o=n&&n.item===t.item?n:new Q;return o.item=t.item,o.level=e,o.expandable=t.children&&t.children.length>0,f.flatNodeMap.set(o,t),f.nestedNodeMap.set(t,o),o},this.dragNodeExpandOverAreaReal=0,this.channelNameList=[],this.incomingFavoriteRequestList=[],this.restoreFlag=0,this.sENwriteBlock=0,this.channelIsSelected="active-channel",this.DEVMODE=l.dev,this.customColumn="name",this.items=[{title:"New Favorite Folder"},{title:"Add Favorite"}],this.currentDevice=null,this.formatsEnabled=[s.BarcodeFormat.QR_CODE],this.torchEnabled=!1,this.torchAvailable$=new p.a(!1),this.tryHarder=!1,this.favoriteFolderListArray=[],this.popupRef=[],this.flatChannelNameList={},this.flatChannelNameList2={},this.flatChannelNeeded=[],this.flatChannelNeeded2=[],this.pubKeyStore={},this.itemClickSub=this.nbMenuService.onItemClick().subscribe((function(t){"New Favorite Folder"==String(t.item.title)&&(f.getFavoriteFolderList(),f.open(f.newFavoriteFolderPop))})),this.database.setQOS(this.q),this.treeFlattener=new g.c(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new u.j(this.getLevel,this.isExpandable),this.dataSource=new g.b(this.treeControl,this.treeFlattener)}return a(o,[{key:"onContextMenu",value:function(t,e){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY-40+"px",this.contextMenu.menuData={item:e},this.contextMenu.openMenu()}},{key:"onContextMenuAction1",value:function(t){}},{key:"onContextMenuAction2",value:function(t){}},{key:"descendantsAllSelected",value:function(t){var e=this;return this.treeControl.getDescendants(t).every((function(t){return e.checklistSelection.isSelected(t)}))}},{key:"descendantsPartiallySelected",value:function(t){var e=this;return this.treeControl.getDescendants(t).some((function(t){return e.checklistSelection.isSelected(t)}))&&!this.descendantsAllSelected(t)}},{key:"todoItemSelectionToggle",value:function(e){var n,o;this.checklistSelection.toggle(e);var i=this.treeControl.getDescendants(e);this.checklistSelection.isSelected(e)?(n=this.checklistSelection).select.apply(n,t(i)):(o=this.checklistSelection).deselect.apply(o,t(i))}},{key:"saveNode",value:function(t,e){var n=this.flatNodeMap.get(t);this.database.updateItem(n,e)}},{key:"handleDragStart",value:function(t,e){this.dragNode=e,this.treeControl.collapse(e)}},{key:"handleDragOver",value:function(t,e){if(t.preventDefault(),-1===e.item.indexOf("-----")){this.dragNodeExpandOverNode&&e===this.dragNodeExpandOverNode?Date.now()-this.dragNodeExpandOverTime>this.dragNodeExpandOverWaitTimeMs&&(this.treeControl.isExpanded(e)||this.treeControl.expand(e)):(this.dragNodeExpandOverNode=e,this.dragNodeExpandOverTime=(new Date).getTime());var n=t.offsetY/t.target.clientHeight;0<=n&&n<=.25?(this.dragNodeExpandOverArea=0,this.dragNodeExpandOverAreaReal=1):1>=n&&n>=.75?(this.dragNodeExpandOverArea=0,this.dragNodeExpandOverAreaReal=-1):(this.dragNodeExpandOverAreaReal=0,this.dragNodeExpandOverArea=0)}}},{key:"handleDrop",value:function(t,e){var n;e!==this.dragNode&&e.item.indexOf("-----")<0&&(1===this.dragNodeExpandOverAreaReal||-1===this.dragNodeExpandOverAreaReal||(n=this.flatNodeMap.get(this.dragNode),this.database.deleteItem(n),n=this.database.copyPasteItem(n,this.flatNodeMap.get(e)),this.saveExpandedNodes(),this.buildFavoriteFolderListFromTreeNodeData()));this.handleDragEnd(t)}},{key:"handleDragEnd",value:function(t){this.dragNode=null,this.dragNodeExpandOverNode=null,this.dragNodeExpandOverTime=0,this.dragNodeExpandOverArea=NaN,t.preventDefault()}},{key:"getStyle",value:function(t){if("emptyFolder"==t.item)return"display-none";if(this.dragNode===t)return"drag-start";if(this.dragNodeExpandOverNode===t)switch(this.dragNodeExpandOverArea){case 1:return"drop-above";case-1:return"drop-below";default:return"drop-center"}}},{key:"closeQR",value:function(){var t=this;setTimeout((function(){t.closePopup()}),500)}},{key:"scanQR",value:function(){this.open(this.qrPop)}},{key:"deleteItem",value:function(t){this.database.deleteItem(this.flatNodeMap.get(t))}},{key:"filterChanged",value:function(t){this.database.filter(t),t?this.treeControl.expandAll():this.treeControl.collapseAll()}},{key:"getFavoriteFolderNameFromId",value:function(t){return"emptyFolder"==t?t:this.q.os.bee.config.getFavoriteFolderNameFromId(t)}},{key:"isFolder",value:function(t){return!(t.indexOf("-----")>-1)}},{key:"buildFavoritelFolderListFromTreeNodeData",value:function(){console.log("!!!!!"),console.log(this.database.data);var t=this.database.data;t=t.filter((function(t){return"emptyFolder"!=t.item}));for(var e=[],n=0;n<t.length;n++){console.log(t[n]);var o="dir";t[n].item.indexOf("-----")>-1&&(o="channel"),console.log(o);var i=[];void 0!==t[n].children&&t[n].children.length>0&&(i=this.getFavoriteFolderListTreeChildrenRec(t[n].children)),e.push({id:t[n].item,data:{name:this.q.os.bee.config.getFavoriteFolderNameFromId(t[n].item),kind:o,items:0},children:i})}return this.q.os.bee.config.setFavoriteFolderList(e),!0}},{key:"ngOnDestroy",value:function(){console.log("ChannelList: ngOnDestroy..."),clearInterval(this.updateNamesInterval),this.itemClickSub.unsubscribe(),this.dataChangeSub.unsubscribe(),this.favoriteFolderListSub.unsubscribe()}},{key:"ngOnInit",value:function(){var t=this;this.updateNamesInterval=setInterval((function(){t.saveExpandedNodes(),t.loadChannels(t.favoriteFolderList)}),1e4),this.favoriteFolderList=this.q.os.bee.config.getFavoriteFolderList(),this.dataChangeSub=this.database.dataChange.subscribe((function(e){t.dataSource.data=[],t.dataSource.data=e})),this.favoriteFolderListSub=this.q.os.bee.config.favoriteFolderListSub.subscribe((function(e){t.loadChannels(e)})),this.loadChannels(this.favoriteFolderList)}},{key:"loadChannels",value:function(t){var e=this;this.incomingFavoriteRequestList=this.q.os.ocean.dolphin.getIncomingFavoriteRequests().filter((function(t){return!e.q.os.utilities.inArray(e.q.os.ocean.dolphin.getChannelNameList(),t.channel)})),J=this.q.os.bee.config.getFavoriteFolderIDList(),this.database.filter(""),t.length>0&&this.q.os.bee.config.getExpandedFavoriteFolderItems().length>0&&(console.log("got a saved state!"),this.expandedNodes=this.q.os.bee.config.getExpandedFavoriteFolderItems(),this.restoreExpandedNodes()),this.updateNames()}},{key:"saveExpandedNodes",value:function(){this.sENwriteBlock=1,this.expandedNodes=[];for(var t=0;t<this.treeControl.dataNodes.length;t++){var e=this.treeControl.dataNodes[t];e.expandable&&this.treeControl.isExpanded(e)&&this.expandedNodes.push(e)}return console.log("ChannelList: Persisting expanded folders..."),this.q.os.bee.config.setExpandedFavoriteFolderItems(this.expandedNodes),this.sENwriteBlock=0,!0}},{key:"buildFavoriteFolderListFromTreeNodeData",value:function(){console.log("!!!!!"),console.log(this.database.data);var t=this.database.data;t=t.filter((function(t){return"emptyFolder"!=t.item}));for(var e=[],n=0;n<t.length;n++){console.log(t[n]);var o="dir";t[n].item.indexOf("-----")>-1&&(o="channel"),console.log(o);var i=[];void 0!==t[n].children&&t[n].children.length>0&&(i=this.getFavoriteFolderListTreeChildrenRec(t[n].children)),e.push({id:t[n].item,data:{name:this.q.os.bee.config.getFavoriteFolderNameFromId(t[n].item),kind:o,items:0},children:i})}return this.q.os.bee.config.setFavoriteFolderList(e),!0}},{key:"selectChannel",value:function(t){console.log("ChannelList: Trying to select: >>"+t.trim()),this.q.os.utilities.inArray(this.q.os.ocean.dolphin.getChannelNameList(),t.trim())&&(console.log("ChannelList: Selecting: ",t.trim()),this.q.os.channel.select(t.trim()),this.q.os.ui.getSideBarFixed().left&&this.q.os.ui.hideSideBar("left"),this.cd.detectChanges())}},{key:"getSelected",value:function(){return JSON.stringify(this.selectedChannel)}},{key:"getFavoriteFolderListTreeChildrenRec",value:function(t){for(var e=[],n=0;n<t.length;n++){console.log(t[n]);var o="dir";t[n].item.indexOf("-----")>-1&&(o="channel");var i=[];void 0!==t[n].children&&t[n].children.length>0&&(i=this.getFavoriteFolderListTreeChildrenRec(t[n].children)),e.push({id:t[n].item,data:{name:this.q.os.bee.config.getFavoriteFolderNameFromId(t[n].item),kind:o,items:0},children:i})}return e}},{key:"restoreExpandedNodes",value:function(){var t=this;this.sENwriteBlock=1;for(var e=function(e){var n=t.expandedNodes[e];console.log(n),console.log(t.treeControl.dataNodes),t.treeControl.expand(t.treeControl.dataNodes.find((function(t){return t.item===n.item})))},n=0;n<this.expandedNodes.length;n++)e(n);this.sENwriteBlock=0}},{key:"onCamerasFound",value:function(t){this.availableDevices=t,this.hasDevices=Boolean(t&&t.length)}},{key:"onDeviceSelectChange",value:function(t){var e=this.availableDevices.find((function(e){return e.deviceId===t}));this.currentDevice=e||null}},{key:"onHasPermission",value:function(t){this.hasPermission=t}},{key:"onTorchCompatible",value:function(t){this.torchAvailable$.next(t||!1)}},{key:"toggleTorch",value:function(){this.torchEnabled=!this.torchEnabled}},{key:"toggleTryHarder",value:function(){this.tryHarder=!this.tryHarder}},{key:"qrSuccessHandler",value:function(t){console.log(t),this.inviteCodeHex=t,this.closePopup()}},{key:"getFavoriteFolderList",value:function(){return this.favoriteFolderList=this.q.os.bee.config.getFavoriteFolderList(),this.favoriteFolderListArray=[],this.parseStructure(this.favoriteFolderList),this.favoriteFolderListArray.length>0&&(this.newFavoriteFolder=this.favoriteFolderListArray[0]),this.favoriteFolderList}},{key:"parseStructure",value:function(t){for(var e=0;e<t.length;e++)-1===t[e].data.name.indexOf("-----")&&"emptyFolder"!=t[e].data.name&&(this.favoriteFolderListArray.push(t[e]),void 0!==t[e].children&&this.parseStructure(t[e].children));return t}},{key:"newChannelFolderChanged",value:function(){}},{key:"createNewChannel",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}},{key:"open",value:function(t){this.popupRef.push(this.dialog.open(t,{context:"this is some additional data passed to dialog"}))}},{key:"closePopup",value:function(){console.log("close toggled"),this.popupRef[this.popupRef.length-1].close(),this.popupRef.pop()}},{key:"createCompleteAndClose",value:function(){this.ui.delay(1e3),this.q.os.bee.config.commit(),this.ui.showSnack("Success!","Yesss",{duration:1e3}),this.closePopup()}},{key:"createNewFavoriteFolder",value:function(t){this.saveExpandedNodes(),this.ui.showSnack("Creating Folder...","Please Wait");var e=this.newFavoriteFolderId;"object"==typeof e&&(e=""),this.q.os.bee.config.createFavoriteFolder(t,e),this.createCompleteAndClose()}},{key:"deleteFolder",value:function(t){console.log("Deleting Folder..."),console.log(t);var e=this.q.os.bee.config.checkIfFavoriteFolderIdChannels(t);console.log(e),e?this.ui.showSnack("Folder has channels!","Sorry but no.",{duration:5e3}):(this.ui.showSnack("Deleting Folder...","Please Wait"),this.saveExpandedNodes(),this.q.os.bee.config.deleteFavoriteFolder(t),this.createCompleteAndClose())}},{key:"importChannelFolderChanged",value:function(){}},{key:"importNewChannel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NoInviteSelected";return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,i,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.saveExpandedNodes(),this.ui.showSnack("Importing Channel...","Please Wait"),"NoInviteSelected"==t&&(t=this.inviteCodeHex),r=n.from(t,"hex").toString("utf8"),(a=r.split("/////")).length>0?(o=a[a.length-1].split(":")[0],i=a[a.length-1].split(":")[1],a.pop()):(o=r.split(":")[0],i=r.split(":")[1]),"object"!=typeof(c=this.newFavoriteFolder)&&void 0!==c&&null!=typeof c||(c=""),!this.q.os.utilities.inArray(this.q.os.ocean.dolphin.getChannelNameList(),o)){e.next=9;break}this.ui.showSnack("Channel Exists!","Oops",{duration:1e3}),e.next=15;break;case 9:return this.q.os.ocean.dolphin.removeIncomingFavoriteRequest(o.split("-----")[0].split("-")[1]),this.q.os.social.profile.addFavorite(o.split("-----")[0].split("-")[1]),console.log("ChannelFavorites: Adding Favorite: ",o.split("-----")[0].split("-")[1]),e.next=14,this.q.os.channel.import(o,a,"",i,0);case 14:this.createCompleteAndClose();case 15:case"end":return e.stop()}}),e,this)})))}},{key:"rejectRequest",value:function(t){this.q.os.ocean.dolphin.removeIncomingFavoriteRequest(t),this.saveExpandedNodes(),this.loadChannels(this.favoriteFolderList),this.q.os.commitNow()}},{key:"newInviteImportFoldersChanged",value:function(){}},{key:"goToProfile",value:function(t){var e=this;this.ngZone.run((function(){return e.router.navigate(["/social/profile/"+t])}))}},{key:"updateNames",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,i,r,a,c,s,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],o=e(this.flatChannelNeeded),t.prev=2,o.s();case 4:if((i=o.n()).done){t.next=13;break}if(r=i.value,!(n.indexOf(r)<0)){t.next=11;break}return t.next=9,this.q.os.social.getAliasFromDirectChannel(r);case 9:a=t.sent,console.log(a),n.push(r),this.flatChannelNameList[r]=a;case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),o.e(t.t0);case 18:return t.prev=18,o.f(),t.finish(18);case 21:c=e(this.flatChannelNeeded2),t.prev=22,c.s();case 24:if((s=c.n()).done){t.next=33;break}if(l=s.value,!(n.indexOf(l)<0)){t.next=31;break}return t.next=29,this.q.os.social.getAliasFromDirectChannel2(l);case 29:p=t.sent,console.log(p),n.push(l),this.flatChannelNameList2[l]=p;case 31:t.next=24;break;case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(22),c.e(t.t1);case 38:return t.prev=38,c.f(),t.finish(38);case 41:this.cd.detectChanges();case 42:case"end":return t.stop()}}),t,this,[[2,15,18,21],[22,35,38,41]])})))}},{key:"getAliasFromDirectChannel",value:function(t){return this.flatChannelNeeded.push(t),void 0!==this.flatChannelNameList[t]?this.flatChannelNameList[t]:t}},{key:"getAliasFromDirectChannel2",value:function(t){return this.flatChannelNeeded2.push(t),void 0!==this.flatChannelNameList2[t]?this.flatChannelNameList2[t]:t}},{key:"getPubKeyFromDirectChannel",value:function(t){var e=this;return setTimeout((function(){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.q.os.social.getPubKeyFromDirectChannel(t);case 2:this.pubKeyStore[t]=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}),2e3),null!=this.pubKeyStore[t]?this.pubKeyStore[t]:"/"}},{key:"selectProfile",value:function(t){var e=this;this.ngZone.run((function(){return e.router.navigate(["/social/profile/"+t])}))}},{key:"goToChannel",value:function(t){var e=this;this.q.os.channel.select(t),this.ngZone.run((function(){return e.router.navigate(["/messages"])}))}},{key:"goToProfileByChannel",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.q.os.social.getPubKeyFromDirectChannel(t);case 2:n=e.sent,this.ngZone.run((function(){return o.router.navigate(["/social/profile/"+n])}));case 4:case"end":return e.stop()}}),e,this)})))}}]),o}();return o.\u0275fac=function(t){return new(t||o)(b.Sb(f.c),b.Sb(b.C),b.Sb(b.h),b.Sb(tt),b.Sb(m.a),b.Sb(v.l),b.Sb(v.y),b.Sb(x.a))},o.\u0275cmp=b.Mb({type:o,selectors:[["social-profile-favorites"]],viewQuery:function(t,e){var n;1&t&&(b.Mc(h.d,!0),b.Mc(j,!0),b.Mc(B,!0),b.Mc(I,!0),b.Mc(R,!0)),2&t&&(b.uc(n=b.gc())&&(e.contextMenu=n.first),b.uc(n=b.gc())&&(e.emptyItem=n.first),b.uc(n=b.gc())&&(e.qrPop=n.first),b.uc(n=b.gc())&&(e.createPop=n.first),b.uc(n=b.gc())&&(e.newFavoriteFolderPop=n.first))},features:[b.Eb([tt])],decls:22,vars:10,consts:[["createPop",""],["qrPop",""],["import",""],["newFavoriteFolder",""],[2,"width","169px","color","#598adb"],["matInput","","placeholder","Search",3,"input"],["outline","","size","small",1,"addChannelButton",3,"nbContextMenu"],["icon","plus-outline",2,"font-size","18px","width","auto"],["class","favoriteRequest",4,"ngFor","ngForOf"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",3,"ngClass","dragover","dragend","drop",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass","dragover","dragend","drop",4,"matTreeNodeDef","matTreeNodeDefWhen"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["emptyItem",""],[2,"color","goldenrod"],[2,"padding","20px"],[2,"width","80%","margin-left","10px",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[2,"padding","20px","padding-bottom","34px","padding-top","0px","color","white !important"],["matInput","","placeholder","Channel Name","value","","name","newChannelName",2,"color","black","background-color","goldenrod","padding","7px",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary",2,"margin-right","20px","border","1px solid #ffffff24",3,"click"],["mat-stroked-button","","color","primary",2,"border","1px solid #ffffff24",3,"click"],[3,"value"],[1,"qrScanWrapper"],[3,"torch","device","formats","tryHarder","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[2,"width","19%"],[3,"value","valueChange","selectionChange"],["matInput","","placeholder","Invite Code","value","","name","inviteCodeHex",2,"color","black","background-color","goldenrod","padding","7px","margin-right","5%","width","80%",3,"ngModel","ngModelChange"],["icon","camera-outline",1,"deleteCode","scanQRCode",3,"click"],["matInput","","placeholder","Folder Name","value","","name","newFavoriteFolderName",2,"color","black","background-color","goldenrod","padding","7px",3,"ngModel","ngModelChange"],[1,"favoriteRequest"],["class","favoriteRequestText",3,"click",4,"ngIf"],["icon","close-square-outline",2,"color","#ff0000bd","float","right","cursor","pointer",3,"click"],["icon","checkmark-square-2-outline",2,"color","#16eb16","float","right","cursor","pointer",3,"click"],[1,"favoriteRequestText",3,"click"],["matTreeNodeToggle","","matTreeNodePadding","",3,"ngClass","dragover","dragend","drop"],[3,"class","routerLinkActive","click",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"routerLinkActive","click"],["icon","shake-outline"],["draggable","true",1,"checklist-leaf-node",3,"dragstart"],[1,"nodeContent","station",2,"width","100%",3,"ngClass"],[3,"click"],["icon","question-mark-outline"],[1,"nodeContent","unknown",2,"width","100%",3,"ngClass"],["matTreeNodePadding","",3,"ngClass","dragover","dragend","drop"],[1,"treeNodeContainerFolder",3,"contextmenu"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["icon","folder-outline"],[1,"nodeContent",3,"ngClass"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(b.Gc(0,T,15,3,"ng-template",null,0,b.Hc),b.Gc(2,q,9,4,"ng-template",null,1,b.Hc),b.Gc(4,Y,24,6,"ng-template",null,2,b.Hc),b.Gc(6,A,15,3,"ng-template",null,3,b.Hc),b.Yb(8,"mat-form-field",4),b.Yb(9,"input",5),b.fc("input",(function(t){return e.filterChanged(t.target.value)})),b.Xb(),b.Xb(),b.Yb(10,"button",6),b.Tb(11,"nb-icon",7),b.Xb(),b.Gc(12,E,5,2,"div",8),b.Yb(13,"mat-tree",9),b.Gc(14,W,3,3,"mat-tree-node",10),b.Gc(15,Z,9,7,"mat-tree-node",11),b.Xb(),b.Tb(16,"div",12),b.Yb(17,"mat-menu",null,13),b.Gc(19,U,4,0,"ng-template",14),b.Xb(),b.Tb(20,"span",null,15)),2&t){var n=b.vc(18);b.Fb(10),b.pc("nbContextMenu",e.items),b.Fb(2),b.pc("ngForOf",e.incomingFavoriteRequestList),b.Fb(1),b.pc("dataSource",e.dataSource)("treeControl",e.treeControl),b.Fb(2),b.pc("matTreeNodeDefWhen",e.hasChild),b.Fb(1),b.Dc("left",e.contextMenuPosition.x)("top",e.contextMenuPosition.y),b.pc("matMenuTriggerFor",n)}},directives:[C.b,P.a,v.i,v.o,O.l,g.a,g.f,h.d,h.e,h.a,v.d,v.f,v.c,M.a,y.b,y.j,y.m,v.e,k.a,_.g,w.a,O.m,g.e,g.h,g.g,O.k,F.a,f.e,S.a,h.b],styles:["button[nbTreeGridRowToggle][_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.search-label[_ngcontent-%COMP%]{display:block}.search-input[_ngcontent-%COMP%]{background:transparent;color:#fff;padding:5px;font-size:12px;width:100%;margin-top:1rem;margin-bottom:1rem;width:78%;margin-left:1%}.addChannelButton[_ngcontent-%COMP%]{color:rgba(134,116,183,.7490196078431373);margin-left:5%;position:relative;top:1px;background-color:#45267d;border:1px solid;border-radius:5px;padding:4px;opacity:.7}.nb-column-name[_ngcontent-%COMP%]{width:80%}.nb-column-items[_ngcontent-%COMP%]{width:20%}.favoriteRequest[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;padding:10px;border-radius:5px;background:rgba(120,14,62,.6392156862745098);font-family:Ubuntu;font-size:14px;margin-bottom:5px}.favoriteRequestText[_ngcontent-%COMP%]{width:80%;cursor:pointer;overflow:hidden;width:66%;float:left;text-overflow:ellipsis;color:hsla(0,0%,100%,.8313725490196079)!important}.scanQRCode[_ngcontent-%COMP%]{font-size:37px;color:#315cdf;cursor:pointer}.scanQRCode[_ngcontent-%COMP%]:hover{color:#4a81e6}[_nghost-%COMP%]   nb-layout-header[_ngcontent-%COMP%]     nav{justify-content:flex-end}.mat-tree[_ngcontent-%COMP%], .mat-tree-node[_ngcontent-%COMP%]{background:transparent}.mat-tree-node[_ngcontent-%COMP%]{overflow:visible;cursor:move}.drop-above[_ngcontent-%COMP%]{border-top:10px solid #2196f3;margin-top:-10px}.drop-below[_ngcontent-%COMP%]{border-bottom:10px solid #2196f3;margin-bottom:-10px}.drop-center[_ngcontent-%COMP%]{background-color:#a9a9a9}.drag-start[_ngcontent-%COMP%]{background-color:#1565c0;color:#f0fff0}.treeNodeContainerFolder[_ngcontent-%COMP%]{background-color:rgba(131,119,230,.058823529411764705);border-radius:5px;padding:0 16px 0 0;margin:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.treeNodeContainerSingle[_ngcontent-%COMP%]{background-color:rgba(69,39,128,.3686274509803922)}.mat-tree[_ngcontent-%COMP%]{width:227px;left:14px;top:190px;bottom:40px;position:fixed;overflow:scroll}.mat-tree[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.mat-tree[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.mat-tree[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(78,132,229,.5607843137254902);outline:0}.mat-tree[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:none!important}.emptyFolder[_ngcontent-%COMP%]{display:none}.mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:20px}.qrScanWrapper[_ngcontent-%COMP%]{min-width:20px;max-height:80vh;max-width:37vw}.mat-tree[_ngcontent-%COMP%]{z-index:999;max-width:227px;left:-1px;padding-right:10px;position:relative;top:0;margin-bottom:40px;overflow:hidden!important;overflow-y:auto!important}.mat-tree-node[_ngcontent-%COMP%]{font-family:Ubuntu;color:#4982e8;letter-spacing:.02rem}.treeNodeContainerSingle[_ngcontent-%COMP%]{border-radius:5px;padding:6px 10px 6px 15px;margin:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:rgba(71,129,233,.9882352941176471)!important;font-size:16px;font-family:Ubuntu;cursor:pointer;background:#262246}.treeNodeContainerSingle[_ngcontent-%COMP%]:focus{outline:0;border:0}.nodeContent.station[_ngcontent-%COMP%], .nodeContent.unknown[_ngcontent-%COMP%]{position:relative;top:-1px}"]}),o}()}).call(this,r("tjlA").Buffer)}}])}();